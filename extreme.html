<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Extreme Temperature Days | marine-obs.org</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=DM+Sans:opsz,wght@9..40,400;9..40,500;9..40,600&family=JetBrains+Mono:wght@500&family=Noto+Sans+JP:wght@400;500;600&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        :root {
            --header-bg: #1a1f2e;
            --header-text: #ffffff;
            --bg-primary: #ffffff;
            --bg-secondary: #f8f9fa;
            --bg-card: #ffffff;
            --text-primary: #1a202c;
            --text-secondary: #4a5568;
            --text-muted: #718096;
            --accent-teal: #2b6cb0;
            --accent-coral: #996060;
            --accent-warm: #c05621;
            --accent-green: #2f855a;
            --border: #e2e8f0;
            --shadow: 0 1px 3px rgba(0,0,0,0.08);
            --manza: #c05621;
            --sesoko: #2b6cb0;
            --ogasawara: #2f855a;
            --hot-color: #dc2626;
            --cold-color: #0891b2;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            font-family: 'DM Sans', 'Noto Sans JP', sans-serif;
            background: var(--bg-secondary);
            color: var(--text-primary);
            line-height: 1.6;
            min-height: 100vh;
        }

        body.ja {
            font-family: 'Noto Sans JP', 'DM Sans', sans-serif;
        }

        header {
            background: var(--header-bg);
            color: var(--header-text);
            padding: 0.75rem 2rem;
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .header-content {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            font-weight: 600;
            font-size: 0.75rem;
            display: flex;
            align-items: center;
            gap: 0.75rem;
            text-decoration: none;
            color: inherit;
        }

        .logo-icon {
            width: 28px;
            height: 28px;
            background: linear-gradient(135deg, #5b9a94 0%, #2b6cb0 100%);
            border-radius: 6px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.75rem;
        }

        .header-controls {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .lang-switch {
            font-size: 0.8rem;
            display: flex;
            gap: 0.25rem;
        }

        .lang-switch button {
            background: none;
            border: none;
            color: rgba(255,255,255,0.6);
            cursor: pointer;
            font-size: 0.8rem;
            padding: 0.25rem 0.5rem;
            border-radius: 4px;
            transition: all 0.2s;
        }

        .lang-switch button:hover { color: rgba(255,255,255,0.9); }
        .lang-switch button.active { color: #ffffff; background: rgba(255,255,255,0.15); }

        main {
            max-width: 900px;
            margin: 0 auto;
            padding: 2.5rem 2rem;
        }

        .breadcrumb {
            font-size: 0.8rem;
            color: var(--text-muted);
            margin-bottom: 1.5rem;
        }

        .breadcrumb a {
            color: var(--accent-teal);
            text-decoration: none;
        }

        .breadcrumb a:hover { text-decoration: underline; }

        .page-header {
            margin-bottom: 2.5rem;
        }

        .page-header h1 {
            font-size: 1.75rem;
            font-weight: 600;
            letter-spacing: -0.02em;
            margin-bottom: 0.75rem;
        }

        body.ja .page-header h1 {
            font-size: 1.5rem;
            letter-spacing: 0;
        }

        .page-header .lead {
            font-size: 1rem;
            color: var(--text-secondary);
            line-height: 1.8;
            max-width: 720px;
        }

        body.ja .page-header .lead {
            line-height: 2;
        }

        .card {
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 8px;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
            box-shadow: var(--shadow);
        }

        .card-title {
            font-size: 0.9rem;
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 1rem;
            padding-bottom: 0.75rem;
            border-bottom: 1px solid var(--border);
        }

        /* Summary cards */
        .summary-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 1.5rem;
            margin-bottom: 2rem;
        }

        @media (max-width: 640px) {
            .summary-grid { grid-template-columns: 1fr; }
        }

        .summary-card {
            padding: 1.5rem;
            border-radius: 8px;
            text-align: center;
        }

        .summary-card.hot {
            background: linear-gradient(135deg, #fef2f2 0%, #fee2e2 100%);
            border: 1px solid #fca5a5;
        }

        .summary-card.cold {
            background: linear-gradient(135deg, #ecfeff 0%, #cffafe 100%);
            border: 1px solid #67e8f9;
        }

        .summary-card .icon {
            font-size: 2rem;
            margin-bottom: 0.5rem;
        }

        .summary-card .label {
            font-size: 0.8rem;
            font-weight: 600;
            margin-bottom: 0.75rem;
        }

        .summary-card.hot .label { color: var(--hot-color); }
        .summary-card.cold .label { color: var(--cold-color); }

        .summary-card .sites {
            display: flex;
            justify-content: center;
            gap: 1.5rem;
        }

        .summary-card .site-item {
            text-align: center;
        }

        .summary-card .site-name {
            font-size: 0.65rem;
            color: var(--text-muted);
            margin-bottom: 0.25rem;
        }

        .summary-card .site-value {
            font-family: 'JetBrains Mono', monospace;
            font-size: 1.5rem;
            font-weight: 600;
        }

        .summary-card.hot .site-value { color: var(--hot-color); }
        .summary-card.cold .site-value { color: var(--cold-color); }

        .summary-card .site-unit {
            font-size: 0.7rem;
            color: var(--text-muted);
        }

        .content-section {
            margin-bottom: 2rem;
        }

        .content-section h2 {
            font-size: 1.1rem;
            font-weight: 600;
            margin-bottom: 1rem;
            color: var(--text-primary);
        }

        .content-section h3 {
            font-size: 0.95rem;
            font-weight: 600;
            margin: 1.5rem 0 0.75rem;
        }

        .content-section h3.hot { color: var(--hot-color); }
        .content-section h3.cold { color: var(--cold-color); }

        .content-section p {
            color: var(--text-secondary);
            line-height: 1.9;
            margin-bottom: 1rem;
        }

        body.ja .content-section p {
            line-height: 2.1;
        }

        .chart-container {
            height: 280px;
            position: relative;
        }

        .chart-legend {
            display: flex;
            justify-content: center;
            gap: 1.5rem;
            margin-top: 1rem;
            flex-wrap: wrap;
        }

        .legend-item {
            display: flex;
            align-items: center;
            gap: 0.4rem;
            font-size: 0.75rem;
            color: var(--text-secondary);
        }

        .legend-dot {
            width: 10px;
            height: 10px;
            border-radius: 50%;
        }

        /* Threshold table */
        .threshold-table {
            width: 100%;
            border-collapse: collapse;
            font-size: 0.8rem;
            margin-top: 1rem;
        }

        .threshold-table th, .threshold-table td {
            padding: 0.6rem 0.75rem;
            text-align: left;
            border-bottom: 1px solid var(--border);
        }

        .threshold-table th {
            font-weight: 600;
            color: var(--text-primary);
            background: var(--bg-secondary);
        }

        .threshold-table td {
            color: var(--text-secondary);
        }

        .source-info {
            font-size: 0.75rem;
            color: var(--text-muted);
            padding: 1rem;
            background: var(--bg-secondary);
            border-radius: 6px;
            margin-top: 1rem;
        }

        .source-info a {
            color: var(--accent-teal);
            text-decoration: none;
        }

        .source-info a:hover { text-decoration: underline; }

        /* Highlight box */
        .highlight-box {
            padding: 1rem 1.25rem;
            border-radius: 6px;
            margin: 1rem 0;
            font-size: 0.85rem;
        }

        .highlight-box.cold-note {
            background: #ecfeff;
            border-left: 4px solid var(--cold-color);
        }

        .highlight-box.cold-note strong {
            color: var(--cold-color);
        }

        footer {
            max-width: 900px;
            margin: 0 auto;
            padding: 2rem;
            text-align: center;
            font-size: 0.75rem;
            color: var(--text-muted);
            border-top: 1px solid var(--border);
        }

        footer a {
            color: var(--accent-teal);
            text-decoration: none;
        }

        [data-lang="ja"] { display: none; }
        body.ja [data-lang="en"] { display: none; }
        body.ja [data-lang="ja"] { display: inline; }
    </style>
</head>
<body>
    <header>
        <div class="header-content">
            <a href="index.html" class="logo">
                <span class="logo-icon">ğŸŒŠ</span>
                marine-obs.org
            </a>
            <div class="header-controls">
                <div class="lang-switch">
                    <button onclick="setLang('en')" id="lang-en" class="active">EN</button>
                    <button onclick="setLang('ja')" id="lang-ja">JA</button>
                </div>
            </div>
        </div>
    </header>

    <main>
        <nav class="breadcrumb">
            <a href="index.html">Home</a> / 
            <span data-lang="en">Extreme Days</span>
            <span data-lang="ja">æ¥µç«¯æ°´æ¸©æ—¥æ•°</span>
        </nav>

        <div class="page-header">
            <h1>
                <span data-lang="en">Extreme Temperature Days</span>
                <span data-lang="ja">æ¥µç«¯æ°´æ¸©æ—¥æ•°</span>
            </h1>
            <p class="lead">
                <span data-lang="en">
                    Tracking the frequency of unusually hot and cold days provides insight into 
                    thermal stress patterns that may not be captured by averaged metrics. 
                    Both extremes matterâ€”high temperatures trigger bleaching, while cold snaps 
                    can cause mortality and secondary infections.
                </span>
                <span data-lang="ja">
                    ç•°å¸¸ã«æš‘ã„æ—¥ã¨å¯’ã„æ—¥ã®é »åº¦ã‚’è¿½è·¡ã™ã‚‹ã“ã¨ã§ã€
                    å¹³å‡åŒ–ã•ã‚ŒãŸæŒ‡æ¨™ã§ã¯æ‰ãˆã‚‰ã‚Œãªã„ç†±ã‚¹ãƒˆãƒ¬ã‚¹ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’æŠŠæ¡ã§ãã¾ã™ã€‚
                    é«˜æ¸©ã¯ç™½åŒ–ã‚’å¼•ãèµ·ã“ã—ã€ä½æ¸©ã¯æ­»äº¡ã‚„äºŒæ¬¡æ„ŸæŸ“ã®åŸå› ã¨ãªã‚Šã¾ã™ã€‚
                    ä¸¡æ–¹ã®æ¥µç«¯ãªçŠ¶æ…‹ãŒé‡è¦ã§ã™ã€‚
                </span>
            </p>
        </div>

        <!-- 2025 Summary -->
        <div class="summary-grid">
            <div class="summary-card hot">
                <div class="icon">ğŸ”¥</div>
                <div class="label">
                    <span data-lang="en">Hot Days 2025 (â‰¥30Â°C)</span>
                    <span data-lang="ja">2025å¹´ é«˜æ¸©æ—¥ï¼ˆ30Â°Cä»¥ä¸Šï¼‰</span>
                </div>
                <div class="sites">
                    <div class="site-item">
                        <div class="site-name"><span data-lang="en">Manza</span><span data-lang="ja">ä¸‡åº§</span></div>
                        <div class="site-value">14</div>
                        <div class="site-unit"><span data-lang="en">days</span><span data-lang="ja">æ—¥</span></div>
                    </div>
                    <div class="site-item">
                        <div class="site-name"><span data-lang="en">Sesoko</span><span data-lang="ja">ç€¬åº•</span></div>
                        <div class="site-value">4</div>
                        <div class="site-unit"><span data-lang="en">days</span><span data-lang="ja">æ—¥</span></div>
                    </div>
                    <div class="site-item">
                        <div class="site-name"><span data-lang="en">Ogasawara</span><span data-lang="ja">å°ç¬ åŸ</span></div>
                        <div class="site-value">4</div>
                        <div class="site-unit"><span data-lang="en">days</span><span data-lang="ja">æ—¥</span></div>
                    </div>
                </div>
            </div>

            <div class="summary-card cold">
                <div class="icon">â„ï¸</div>
                <div class="label">
                    <span data-lang="en">Cold Days 2025 (â‰¤20Â°C)</span>
                    <span data-lang="ja">2025å¹´ ä½æ¸©æ—¥ï¼ˆ20Â°Cä»¥ä¸‹ï¼‰</span>
                </div>
                <div class="sites">
                    <div class="site-item">
                        <div class="site-name"><span data-lang="en">Manza</span><span data-lang="ja">ä¸‡åº§</span></div>
                        <div class="site-value">0</div>
                        <div class="site-unit"><span data-lang="en">days</span><span data-lang="ja">æ—¥</span></div>
                    </div>
                    <div class="site-item">
                        <div class="site-name"><span data-lang="en">Sesoko</span><span data-lang="ja">ç€¬åº•</span></div>
                        <div class="site-value">0</div>
                        <div class="site-unit"><span data-lang="en">days</span><span data-lang="ja">æ—¥</span></div>
                    </div>
                    <div class="site-item">
                        <div class="site-name"><span data-lang="en">Ogasawara</span><span data-lang="ja">å°ç¬ åŸ</span></div>
                        <div class="site-value">49</div>
                        <div class="site-unit"><span data-lang="en">days</span><span data-lang="ja">æ—¥</span></div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Hot Days Explanation -->
        <section class="content-section">
            <h2>
                <span data-lang="en">Why Track Extreme Days?</span>
                <span data-lang="ja">æ¥µç«¯æ—¥æ•°ã‚’è¿½è·¡ã™ã‚‹ç†ç”±</span>
            </h2>

            <h3 class="hot">
                <span data-lang="en">ğŸ”¥ High Temperature Days (â‰¥30Â°C)</span>
                <span data-lang="ja">ğŸ”¥ é«˜æ¸©æ—¥ï¼ˆ30Â°Cä»¥ä¸Šï¼‰</span>
            </h3>
            <p>
                <span data-lang="en">
                    Days exceeding 30Â°C represent acute thermal stress events. While DHW captures 
                    cumulative stress, individual hot days can cause immediate photosynthetic damage 
                    to coral symbionts. In 2024, Manza recorded 36 hot daysâ€”more than any year 
                    since 2017 (34 days)â€”contributing to the widespread bleaching observed.
                </span>
                <span data-lang="ja">
                    30Â°Cã‚’è¶…ãˆã‚‹æ—¥ã¯ã€æ€¥æ€§ã®ç†±ã‚¹ãƒˆãƒ¬ã‚¹ã‚¤ãƒ™ãƒ³ãƒˆã‚’è¡¨ã—ã¾ã™ã€‚
                    DHWã¯ç´¯ç©ã‚¹ãƒˆãƒ¬ã‚¹ã‚’æ‰ãˆã¾ã™ãŒã€å€‹ã€…ã®é«˜æ¸©æ—¥ã¯ã‚µãƒ³ã‚´ã®å…±ç”Ÿè—»ã«
                    å³åº§ã«å…‰åˆæˆéšœå®³ã‚’å¼•ãèµ·ã“ã™å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚
                    2024å¹´ã€ä¸‡åº§ã¯36æ—¥ã®é«˜æ¸©æ—¥ã‚’è¨˜éŒ²ã—ã¾ã—ãŸã€‚
                    ã“ã‚Œã¯2017å¹´ï¼ˆ34æ—¥ï¼‰ä»¥æ¥æœ€å¤šã§ã€è¦³å¯Ÿã•ã‚ŒãŸåºƒç¯„ãªç™½åŒ–ã®ä¸€å› ã¨ãªã‚Šã¾ã—ãŸã€‚
                </span>
            </p>

            <h3 class="cold">
                <span data-lang="en">â„ï¸ Low Temperature Days (â‰¤20Â°C)</span>
                <span data-lang="ja">â„ï¸ ä½æ¸©æ—¥ï¼ˆ20Â°Cä»¥ä¸‹ï¼‰</span>
            </h3>
            <p>
                <span data-lang="en">
                    Cold days below 20Â°C can trigger cold-water bleaching and make corals 
                    susceptible to disease. Ogasawara shows a distinct pattern: while it rarely 
                    exceeds 30Â°C, it frequently drops below 20Â°C in winter months. 
                    In 2015, Ogasawara recorded 60 cold daysâ€”the highest in our dataset.
                </span>
                <span data-lang="ja">
                    20Â°Cä»¥ä¸‹ã®ä½æ¸©æ—¥ã¯ã€ä½æ¸©ç™½åŒ–ã‚’å¼•ãèµ·ã“ã—ã€ã‚µãƒ³ã‚´ã‚’ç—…æ°—ã«ã‹ã‹ã‚Šã‚„ã™ãã—ã¾ã™ã€‚
                    å°ç¬ åŸã¯ç‹¬ç‰¹ã®ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’ç¤ºã—ã¾ã™ï¼š30Â°Cã‚’è¶…ãˆã‚‹ã“ã¨ã¯ç¨€ã§ã™ãŒã€
                    å†¬å­£ã«ã¯é »ç¹ã«20Â°Cä»¥ä¸‹ã«ä½ä¸‹ã—ã¾ã™ã€‚
                    2015å¹´ã€å°ç¬ åŸã¯60æ—¥ã®ä½æ¸©æ—¥ã‚’è¨˜éŒ²ã—ã¾ã—ãŸâ€”ã“ã‚Œã¯ãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆä¸­ã®æœ€é«˜å€¤ã§ã™ã€‚
                </span>
            </p>

            <div class="highlight-box cold-note">
                <span data-lang="en">
                    <strong>Ogasawara's Cold Vulnerability:</strong> 
                    Being located at 27Â°N (vs. Okinawa's 26Â°N), Ogasawara experiences more pronounced 
                    winter cooling. This makes cold stress a more relevant concern here than heat stress.
                </span>
                <span data-lang="ja">
                    <strong>å°ç¬ åŸã®ä½æ¸©è„†å¼±æ€§ï¼š</strong>
                    åŒ—ç·¯27åº¦ï¼ˆæ²–ç¸„ã¯26åº¦ï¼‰ã«ä½ç½®ã™ã‚‹å°ç¬ åŸã¯ã€ã‚ˆã‚Šé¡•è‘—ãªå†¬å­£ã®å†·ãˆè¾¼ã¿ã‚’çµŒé¨“ã—ã¾ã™ã€‚
                    ã“ã®ãŸã‚ã€ã“ã“ã§ã¯é«˜æ¸©ã‚¹ãƒˆãƒ¬ã‚¹ã‚ˆã‚Šã‚‚ä½æ¸©ã‚¹ãƒˆãƒ¬ã‚¹ãŒã‚ˆã‚Šé‡è¦ãªæ‡¸å¿µäº‹é …ã¨ãªã‚Šã¾ã™ã€‚
                </span>
            </div>
        </section>

        <!-- Hot Days Chart -->
        <div class="card">
            <div class="card-title">
                <span data-lang="en">ğŸ”¥ Annual Hot Days (â‰¥30Â°C) â€” 2003-2025</span>
                <span data-lang="ja">ğŸ”¥ å¹´é–“é«˜æ¸©æ—¥æ•°ï¼ˆ30Â°Cä»¥ä¸Šï¼‰â€” 2003-2025å¹´</span>
            </div>
            <div class="chart-container">
                <canvas id="hotDaysChart"></canvas>
            </div>
            <div class="chart-legend">
                <div class="legend-item"><span class="legend-dot" style="background:var(--manza)"></span><span data-lang="en">Manza</span><span data-lang="ja">ä¸‡åº§</span></div>
                <div class="legend-item"><span class="legend-dot" style="background:var(--sesoko)"></span><span data-lang="en">Sesoko</span><span data-lang="ja">ç€¬åº•</span></div>
                <div class="legend-item"><span class="legend-dot" style="background:var(--ogasawara)"></span><span data-lang="en">Ogasawara</span><span data-lang="ja">å°ç¬ åŸ</span></div>
            </div>
        </div>

        <!-- Cold Days Chart -->
        <div class="card">
            <div class="card-title">
                <span data-lang="en">â„ï¸ Annual Cold Days (â‰¤20Â°C) â€” 2003-2025</span>
                <span data-lang="ja">â„ï¸ å¹´é–“ä½æ¸©æ—¥æ•°ï¼ˆ20Â°Cä»¥ä¸‹ï¼‰â€” 2003-2025å¹´</span>
            </div>
            <div class="chart-container">
                <canvas id="coldDaysChart"></canvas>
            </div>
            <div class="chart-legend">
                <div class="legend-item"><span class="legend-dot" style="background:var(--manza)"></span><span data-lang="en">Manza</span><span data-lang="ja">ä¸‡åº§</span></div>
                <div class="legend-item"><span class="legend-dot" style="background:var(--sesoko)"></span><span data-lang="en">Sesoko</span><span data-lang="ja">ç€¬åº•</span></div>
                <div class="legend-item"><span class="legend-dot" style="background:var(--ogasawara)"></span><span data-lang="en">Ogasawara</span><span data-lang="ja">å°ç¬ åŸ</span></div>
            </div>
        </div>

        <!-- Thresholds -->
        <section class="content-section">
            <h2>
                <span data-lang="en">Threshold Definitions</span>
                <span data-lang="ja">é–¾å€¤ã®å®šç¾©</span>
            </h2>
            <div class="card" style="margin-top: 1rem;">
                <table class="threshold-table">
                    <thead>
                        <tr>
                            <th><span data-lang="en">Metric</span><span data-lang="ja">æŒ‡æ¨™</span></th>
                            <th><span data-lang="en">Threshold</span><span data-lang="ja">é–¾å€¤</span></th>
                            <th><span data-lang="en">Rationale</span><span data-lang="ja">æ ¹æ‹ </span></th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>
                                <span data-lang="en">Hot Day</span>
                                <span data-lang="ja">é«˜æ¸©æ—¥</span>
                            </td>
                            <td>â‰¥30Â°C</td>
                            <td>
                                <span data-lang="en">~1Â°C above typical summer MMM for Okinawa</span>
                                <span data-lang="ja">æ²–ç¸„ã®å¤å­£MMMã‚ˆã‚Šç´„1Â°Cé«˜ã„</span>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <span data-lang="en">Cold Day</span>
                                <span data-lang="ja">ä½æ¸©æ—¥</span>
                            </td>
                            <td>â‰¤20Â°C</td>
                            <td>
                                <span data-lang="en">Below cold stress threshold (~18-20Â°C)</span>
                                <span data-lang="ja">ä½æ¸©ã‚¹ãƒˆãƒ¬ã‚¹é–¾å€¤ï¼ˆç´„18-20Â°Cï¼‰ä»¥ä¸‹</span>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </section>

        <!-- Data Source -->
        <section class="content-section">
            <h2>
                <span data-lang="en">Data Source</span>
                <span data-lang="ja">ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹</span>
            </h2>
            <div class="source-info">
                <strong>NASA MUR SST</strong><br>
                <span data-lang="en">
                    Extreme days are calculated from daily NASA MUR SST data (1km resolution). 
                    Annual counts represent the number of days meeting the threshold criteria within each calendar year.
                </span>
                <span data-lang="ja">
                    æ¥µç«¯æ—¥æ•°ã¯æ—¥æ¬¡NASA MUR SSTãƒ‡ãƒ¼ã‚¿ï¼ˆ1kmè§£åƒåº¦ï¼‰ã‹ã‚‰è¨ˆç®—ã—ã¦ã„ã¾ã™ã€‚
                    å¹´é–“ã‚«ã‚¦ãƒ³ãƒˆã¯ã€å„æš¦å¹´å†…ã§é–¾å€¤åŸºæº–ã‚’æº€ãŸã™æ—¥æ•°ã‚’è¡¨ã—ã¾ã™ã€‚
                </span>
                <br><br>
                <a href="https://podaac.jpl.nasa.gov/dataset/MUR-JPL-L4-GLOB-v4.1" target="_blank">
                    NASA PO.DAAC â†’ MUR SST Dataset
                </a>
            </div>
        </section>

    </main>

    <footer>
        <a href="index.html">â† 
            <span data-lang="en">Back to Home</span>
            <span data-lang="ja">ãƒ›ãƒ¼ãƒ ã«æˆ»ã‚‹</span>
        </a>
        <p style="margin-top: 0.5rem;">Â© 2025 marine-obs.org</p>
    </footer>

    <script>
        // Language toggle
        function setLang(lang) {
            document.body.classList.toggle('ja', lang === 'ja');
            document.getElementById('lang-en').classList.toggle('active', lang === 'en');
            document.getElementById('lang-ja').classList.toggle('active', lang === 'ja');
            localStorage.setItem('lang', lang);
        }

        const savedLang = localStorage.getItem('lang');
        if (savedLang) setLang(savedLang);

        const COLORS = {
            manza: '#c05621',
            sesoko: '#2b6cb0',
            ogasawara: '#2f855a'
        };

        async function init() {
            try {
                const res = await fetch('data/extreme_days.json');
                const data = await res.json();
                renderHotDaysChart(data);
                renderColdDaysChart(data);
            } catch (err) {
                console.error('Failed to load data:', err);
            }
        }

        function renderHotDaysChart(data) {
            const ctx = document.getElementById('hotDaysChart').getContext('2d');
            const years = data.hot_days.sesoko.map(d => d.year);

            new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: years,
                    datasets: [
                        {
                            label: 'Sesoko',
                            data: data.hot_days.sesoko.map(d => d.days),
                            backgroundColor: COLORS.sesoko + 'cc',
                            borderColor: COLORS.sesoko,
                            borderWidth: 1
                        },
                        {
                            label: 'Manza',
                            data: data.hot_days.manza.map(d => d.days),
                            backgroundColor: COLORS.manza + 'cc',
                            borderColor: COLORS.manza,
                            borderWidth: 1
                        },
                        {
                            label: 'Ogasawara',
                            data: data.hot_days.ogasawara.map(d => d.days),
                            backgroundColor: COLORS.ogasawara + 'cc',
                            borderColor: COLORS.ogasawara,
                            borderWidth: 1
                        }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: { display: false }
                    },
                    scales: {
                        x: {
                            grid: { display: false },
                            ticks: { 
                                font: { size: 9 },
                                maxRotation: 45
                            }
                        },
                        y: {
                            grid: { color: '#e2e8f0' },
                            ticks: { font: { size: 10 } },
                            min: 0
                        }
                    }
                }
            });
        }

        function renderColdDaysChart(data) {
            const ctx = document.getElementById('coldDaysChart').getContext('2d');
            const years = data.cold_days.sesoko.map(d => d.year);

            new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: years,
                    datasets: [
                        {
                            label: 'Sesoko',
                            data: data.cold_days.sesoko.map(d => d.days),
                            backgroundColor: COLORS.sesoko + 'cc',
                            borderColor: COLORS.sesoko,
                            borderWidth: 1
                        },
                        {
                            label: 'Manza',
                            data: data.cold_days.manza.map(d => d.days),
                            backgroundColor: COLORS.manza + 'cc',
                            borderColor: COLORS.manza,
                            borderWidth: 1
                        },
                        {
                            label: 'Ogasawara',
                            data: data.cold_days.ogasawara.map(d => d.days),
                            backgroundColor: COLORS.ogasawara + 'cc',
                            borderColor: COLORS.ogasawara,
                            borderWidth: 1
                        }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: { display: false }
                    },
                    scales: {
                        x: {
                            grid: { display: false },
                            ticks: { 
                                font: { size: 9 },
                                maxRotation: 45
                            }
                        },
                        y: {
                            grid: { color: '#e2e8f0' },
                            ticks: { font: { size: 10 } },
                            min: 0
                        }
                    }
                }
            });
        }

        init();
    </script>
</body>
</html>
