<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Climate Trend - 44 Years of SST Data | marine-obs.org</title>
    <!-- SEO / OGP -->
    <meta name="description" content="1981å¹´ã‹ã‚‰44å¹´é–“ã®æµ·æ°´æ¸©ãƒ‡ãƒ¼ã‚¿ã§è¦‹ã‚‹æ—¥æœ¬ã®ã‚µãƒ³ã‚´ç¤æµ·åŸŸã®æ¸©æš–åŒ–ãƒˆãƒ¬ãƒ³ãƒ‰ã€‚çŸ³è¥¿ç¤æ¹–ã§+0.22â„ƒ/10å¹´ã®ä¸Šæ˜‡ã€‚">
    <meta property="og:title" content="é•·æœŸæ°—å€™ãƒˆãƒ¬ãƒ³ãƒ‰ - 44å¹´é–“ã®SSTå¤‰åŒ– | marine-obs.org">
    <meta property="og:description" content="HadISSTãƒ‡ãƒ¼ã‚¿ã§è¦‹ã‚‹æ—¥æœ¬7åœ°ç‚¹ã®æ¸©æš–åŒ–ãƒˆãƒ¬ãƒ³ãƒ‰ã€‚2024å¹´ã¯å…¨åœ°ç‚¹ã§è¨˜éŒ²çš„é«˜æ¸©ã€‚">
    <meta property="og:image" content="https://marine-obs.org/images/ogp.jpg">
    <meta property="og:url" content="https://marine-obs.org/climate-trend.html">
    <meta property="og:type" content="website">
    <meta name="twitter:card" content="summary_large_image">
    <link rel="icon" href="/favicon.ico" sizes="32x32">
    <link rel="apple-touch-icon" href="/apple-touch-icon.png">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=DM+Sans:opsz,wght@9..40,400;9..40,500;9..40,600&family=JetBrains+Mono:wght@500&family=Noto+Sans+JP:wght@400;500;600&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-annotation@3.0.1/dist/chartjs-plugin-annotation.min.js"></script>
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/climate-trend.css">
</head>
<body>
    <header>
        <div class="header-content">
            <a href="index.html" class="logo">
                <div class="logo-icon"><img src="images/logo-circle.png" alt="marine-obs logo" style="width: 100%; height: 100%; object-fit: cover;"></div>
                <span data-lang="en">marine-obs.org</span><span data-lang="ja">æµ·æ´‹ã®å¾´å€™</span>
            </a>
            
            <!-- Desktop Navigation -->
                        <nav class="nav-desktop">
                <ul class="nav-links">
                    <li class="nav-item has-dropdown">
                        <a href="#" class="nav-link">
                            <span data-lang="en">Details</span>
                            <span data-lang="ja">ãƒ‡ãƒ¼ã‚¿è©³ç´°</span>
                            <svg class="dropdown-arrow" viewBox="0 0 24 24" width="14" height="14"><path fill="currentColor" d="M7 10l5 5 5-5z"/></svg>
                        </a>
                        <ul class="dropdown-menu">
                            <li><a href="sst.html"><span data-lang="en">Sea Surface Temperature</span><span data-lang="ja">æµ·æ°´æ¸©</span></a></li>
                            <li><a href="extreme.html"><span data-lang="en">Extreme Temperature Days</span><span data-lang="ja">æ¥µç«¯æ°´æ¸©æ—¥æ•°</span></a></li>
                            <li><a href="dhw.html"><span data-lang="en">Degree Heating Weeks</span><span data-lang="ja">ç©ç®—ç†±ã‚¹ãƒˆãƒ¬ã‚¹</span></a></li>
                            <li><a href="light-adjusted-dhw.html"><span data-lang="en">Light-Adjusted DHW</span><span data-lang="ja">å…‰è£œæ­£DHW</span></a></li>
                            <li><a href="enso.html"><span data-lang="en">ENSO Monitor</span><span data-lang="ja">ENSOç›£è¦–</span></a></li>
                            <li><a href="climate-trend.html"><span data-lang="en">Climate Trend</span><span data-lang="ja">é•·æœŸãƒˆãƒ¬ãƒ³ãƒ‰</span><span class="nav-badge">New</span></a></li>
                            <li><a href="field-monitoring.html"><span data-lang="en">Field Monitoring</span><span data-lang="ja">ç¾å ´ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°</span><span class="nav-badge">è¨ˆç”»ä¸­</span></a></li>
                        </ul>
                    </li>
                    <li class="nav-item has-dropdown">
                        <a href="#" class="nav-link">
                            <span data-lang="en">Bleaching</span>
                            <span data-lang="ja">ç™½åŒ–</span>
                            <svg class="dropdown-arrow" viewBox="0 0 24 24" width="14" height="14"><path fill="currentColor" d="M7 10l5 5 5-5z"/></svg>
                        </a>
                        <ul class="dropdown-menu">
                            <li><a href="bleaching.html"><span data-lang="en">What is Bleaching</span><span data-lang="ja">ç™½åŒ–ã¨ã¯</span></a></li>
                            <li><a href="vulnerability.html"><span data-lang="en">Species Vulnerability</span><span data-lang="ja">ç¨®åˆ¥è„†å¼±æ€§</span></a></li>
                            <li><a href="global-bleaching.html"><span data-lang="en">Global Status</span><span data-lang="ja">ä¸–ç•Œã®ç™½åŒ–çŠ¶æ³</span></a></li>
                            <li><a href="japan-bleaching.html"><span data-lang="en">Japan Status</span><span data-lang="ja">æ—¥æœ¬ã®ç™½åŒ–çŠ¶æ³</span></a></li>
                        </ul>
                    </li>
                    <li class="nav-item has-dropdown">
                        <a href="#" class="nav-link">
                            <span data-lang="en">Learn</span>
                            <span data-lang="ja">ã‚µãƒ³ã‚´ã‚’çŸ¥ã‚‹</span>
                            <svg class="dropdown-arrow" viewBox="0 0 24 24" width="14" height="14"><path fill="currentColor" d="M7 10l5 5 5-5z"/></svg>
                        </a>
                        <ul class="dropdown-menu">
                            <li><a href="coral-basics.html"><span data-lang="en">Coral Basics</span><span data-lang="ja">ã‚µãƒ³ã‚´ã¨ã¯</span></a></li>
                            <li><a href="species-guide.html"><span data-lang="en">Species Guide</span><span data-lang="ja">ã‚µãƒ³ã‚´å›³é‘‘</span></a></li>
                            <li><a href="spawning.html"><span data-lang="en">Coral Spawning</span><span data-lang="ja">ã‚µãƒ³ã‚´ç”£åµäºˆæ¸¬</span></a></li>
                        </ul>
                    </li>
                    <li class="nav-item has-dropdown">
                        <a href="#" class="nav-link">
                            <span data-lang="en">For Divers</span>
                            <span data-lang="ja">ãƒ€ã‚¤ãƒãƒ¼å‘ã‘</span>
                            <svg class="dropdown-arrow" viewBox="0 0 24 24" width="14" height="14"><path fill="currentColor" d="M7 10l5 5 5-5z"/></svg>
                        </a>
                        <ul class="dropdown-menu">
                            <li><a href="conditions.html"><span data-lang="en">Conditions</span><span data-lang="ja">æµ·æ³</span></a></li>
                            <li><a href="weather.html"><span data-lang="en">Weather Map</span><span data-lang="ja">å¤©æ°—å›³</span></a></li>
                        </ul>
                    </li>
                    <li class="nav-item has-dropdown">
                        <a href="#" class="nav-link">
                            <span data-lang="en">Reference</span>
                            <span data-lang="ja">ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹</span>
                            <svg class="dropdown-arrow" viewBox="0 0 24 24" width="14" height="14"><path fill="currentColor" d="M7 10l5 5 5-5z"/></svg>
                        </a>
                        <ul class="dropdown-menu">
                            <li><a href="about.html"><span data-lang="en">About</span><span data-lang="ja">ã“ã®ã‚µã‚¤ãƒˆã«ã¤ã„ã¦</span></a></li>
                            <li><a href="glossary.html"><span data-lang="en">Glossary</span><span data-lang="ja">ç”¨èªè§£èª¬</span></a></li>
                            <li><a href="datasources.html"><span data-lang="en">Data Sources</span><span data-lang="ja">ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹</span></a></li>
                            <li><a href="contact.html"><span data-lang="en">Contact</span><span data-lang="ja">ãŠå•ã„åˆã‚ã›</span></a></li>
                        </ul>
                    </li>
                </ul>
            </nav>

            <!-- Mobile Hamburger Button -->
            <button class="hamburger" id="hamburger" aria-label="Menu">
                <span class="hamburger-line"></span>
                <span class="hamburger-line"></span>
                <span class="hamburger-line"></span>
            </button>

            <div class="header-controls">
                <div class="lang-switch">
                    <button id="lang-en" class="active">English</button>
                    <span style="color:rgba(255,255,255,0.4)">/</span>
                    <button id="lang-ja">æ—¥æœ¬èª</button>
                </div>
            </div>
        </div>
    </header>

    <!-- Mobile Sidebar -->
    <div class="sidebar-overlay" id="sidebar-overlay"></div>
        <nav class="sidebar" id="sidebar">
        <div class="sidebar-header">
            <span class="sidebar-title">Menu</span>
            <button class="sidebar-close" id="sidebar-close" aria-label="Close menu">
                <svg viewBox="0 0 24 24" width="24" height="24"><path fill="currentColor" d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
            </button>
        </div>
        <ul class="sidebar-menu">
            <li class="sidebar-section">
                <span class="sidebar-section-title">
                    <span data-lang="en">Details</span>
                    <span data-lang="ja">ãƒ‡ãƒ¼ã‚¿è©³ç´°</span>
                </span>
                <ul class="sidebar-submenu">
                    <li><a href="sst.html"><span data-lang="en">Sea Surface Temperature</span><span data-lang="ja">æµ·æ°´æ¸©</span></a></li>
                    <li><a href="extreme.html"><span data-lang="en">Extreme Temperature Days</span><span data-lang="ja">æ¥µç«¯æ°´æ¸©æ—¥æ•°</span></a></li>
                    <li><a href="dhw.html"><span data-lang="en">Degree Heating Weeks</span><span data-lang="ja">ç©ç®—ç†±ã‚¹ãƒˆãƒ¬ã‚¹</span></a></li>
                            <li><a href="light-adjusted-dhw.html"><span data-lang="en">Light-Adjusted DHW</span><span data-lang="ja">å…‰è£œæ­£DHW</span></a></li>
                    <li><a href="enso.html"><span data-lang="en">ENSO Monitor</span><span data-lang="ja">ENSOç›£è¦–</span></a></li>
                    <li><a href="climate-trend.html"><span data-lang="en">Climate Trend</span><span data-lang="ja">é•·æœŸãƒˆãƒ¬ãƒ³ãƒ‰</span><span class="nav-badge-mobile">New</span></a></li>
                    <li><a href="field-monitoring.html"><span data-lang="en">Field Monitoring</span><span data-lang="ja">ç¾å ´ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°</span><span class="nav-badge-mobile">è¨ˆç”»ä¸­</span></a></li>
                </ul>
            </li>
            <li class="sidebar-section">
                <span class="sidebar-section-title">
                    <span data-lang="en">Bleaching</span>
                    <span data-lang="ja">ç™½åŒ–</span>
                </span>
                <ul class="sidebar-submenu">
                    <li><a href="bleaching.html"><span data-lang="en">What is Bleaching</span><span data-lang="ja">ç™½åŒ–ã¨ã¯</span></a></li>
                    <li><a href="vulnerability.html"><span data-lang="en">Species Vulnerability</span><span data-lang="ja">ç¨®åˆ¥è„†å¼±æ€§</span></a></li>
                    <li><a href="global-bleaching.html"><span data-lang="en">Global Status</span><span data-lang="ja">ä¸–ç•Œã®ç™½åŒ–çŠ¶æ³</span></a></li>
                    <li><a href="japan-bleaching.html"><span data-lang="en">Japan Status</span><span data-lang="ja">æ—¥æœ¬ã®ç™½åŒ–çŠ¶æ³</span></a></li>
                </ul>
            </li>
            <li class="sidebar-section">
                <span class="sidebar-section-title">
                    <span data-lang="en">Learn</span>
                    <span data-lang="ja">ã‚µãƒ³ã‚´ã‚’çŸ¥ã‚‹</span>
                </span>
                <ul class="sidebar-submenu">
                    <li><a href="coral-basics.html"><span data-lang="en">Coral Basics</span><span data-lang="ja">ã‚µãƒ³ã‚´ã¨ã¯</span></a></li>
                    <li><a href="species-guide.html"><span data-lang="en">Species Guide</span><span data-lang="ja">ã‚µãƒ³ã‚´å›³é‘‘</span></a></li>
                    <li><a href="spawning.html"><span data-lang="en">Coral Spawning</span><span data-lang="ja">ã‚µãƒ³ã‚´ç”£åµäºˆæ¸¬</span></a></li>
                </ul>
            </li>
            <li class="sidebar-section">
                <span class="sidebar-section-title">
                    <span data-lang="en">For Divers</span>
                    <span data-lang="ja">ãƒ€ã‚¤ãƒãƒ¼å‘ã‘</span>
                </span>
                <ul class="sidebar-submenu">
                    <li><a href="conditions.html"><span data-lang="en">Conditions</span><span data-lang="ja">æµ·æ³</span></a></li>
                    <li><a href="weather.html"><span data-lang="en">Weather Map</span><span data-lang="ja">å¤©æ°—å›³</span></a></li>
                </ul>
            </li>
            <li class="sidebar-section">
                <span class="sidebar-section-title">
                    <span data-lang="en">Reference</span>
                    <span data-lang="ja">ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹</span>
                </span>
                <ul class="sidebar-submenu">
                    <li><a href="about.html"><span data-lang="en">About</span><span data-lang="ja">ã“ã®ã‚µã‚¤ãƒˆã«ã¤ã„ã¦</span></a></li>
                    <li><a href="glossary.html"><span data-lang="en">Glossary</span><span data-lang="ja">ç”¨èªè§£èª¬</span></a></li>
                    <li><a href="datasources.html"><span data-lang="en">Data Sources</span><span data-lang="ja">ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹</span></a></li>
                    <li><a href="contact.html"><span data-lang="en">Contact</span><span data-lang="ja">ãŠå•ã„åˆã‚ã›</span></a></li>
                </ul>
            </li>
        </ul>
    </nav>
    <main>
    <main>
        <div class="breadcrumb">
            <a href="index.html">Home</a> / 
            <span data-lang="en">Climate Trend</span>
            <span data-lang="ja">é•·æœŸæ°—å€™ãƒˆãƒ¬ãƒ³ãƒ‰</span>
        </div>

        <!-- Hero Section -->
        <section class="hero-section">
            <div class="hero-main">
                <div class="hero-icon">ğŸ“ˆ</div>
                <h1 class="hero-tagline">
                    <span data-lang="en">44 Years of Warming</span>
                    <span data-lang="ja">44å¹´é–“ã®æ¸©æš–åŒ–</span>
                </h1>
                <p class="hero-subtitle">
                    <span data-lang="en">HadISST 1981-2025 | 7 Coral Reef Sites in Japan</span>
                    <span data-lang="ja">HadISST 1981-2025 | æ—¥æœ¬ã®ã‚µãƒ³ã‚´ç¤7åœ°ç‚¹</span>
                </p>
            </div>
            
            <div class="hero-stats-grid">
                <div class="hero-stat-card highlight">
                    <span class="stat-label">
                        <span data-lang="en">Fastest Warming</span>
                        <span data-lang="ja">æœ€é€Ÿæ¸©æš–åŒ–</span>
                    </span>
                    <span class="stat-value" id="hero-fastest-site">çŸ³è¥¿ç¤æ¹–</span>
                    <span class="stat-number" id="hero-fastest-trend">+0.22Â°C/decade</span>
                </div>
                <div class="hero-stat-card">
                    <span class="stat-label">
                        <span data-lang="en">Record Year</span>
                        <span data-lang="ja">è¨˜éŒ²çš„é«˜æ¸©å¹´</span>
                    </span>
                    <span class="stat-value">2024</span>
                    <span class="stat-number">
                        <span data-lang="en">Warmest at all sites</span>
                        <span data-lang="ja">å…¨åœ°ç‚¹ã§æœ€æš–</span>
                    </span>
                </div>
                <div class="hero-stat-card">
                    <span class="stat-label">
                        <span data-lang="en">Total Warming</span>
                        <span data-lang="ja">44å¹´é–“ã®ä¸Šæ˜‡</span>
                    </span>
                    <span class="stat-value" id="hero-total-warming">+0.5ã€œ1.0Â°C</span>
                    <span class="stat-number">
                        <span data-lang="en">Since 1981</span>
                        <span data-lang="ja">1981å¹´æ¯”</span>
                    </span>
                </div>
            </div>
        </section>

        <div class="page-header">
            <h1>
                <span data-lang="en">Long-term Climate Trend</span>
                <span data-lang="ja">é•·æœŸæ°—å€™ãƒˆãƒ¬ãƒ³ãƒ‰</span>
            </h1>
            <p class="lead">
                <span data-lang="en">HadISST satellite data reveals a clear warming trend in Japanese coral reef waters. Over 44 years, sea surface temperatures have risen by approximately 0.2Â°C per decadeâ€”a rate that coral adaptation struggles to match.</span>
                <span data-lang="ja">HadISSTè¡›æ˜Ÿãƒ‡ãƒ¼ã‚¿ã¯ã€æ—¥æœ¬ã®ã‚µãƒ³ã‚´ç¤æµ·åŸŸã«ãŠã‘ã‚‹æ˜ç¢ºãªæ¸©æš–åŒ–ãƒˆãƒ¬ãƒ³ãƒ‰ã‚’ç¤ºã—ã¦ã„ã¾ã™ã€‚44å¹´é–“ã§æµ·æ°´æ¸©ã¯10å¹´ã‚ãŸã‚Šç´„0.2â„ƒä¸Šæ˜‡ã—ã¦ãŠã‚Šã€ã‚µãƒ³ã‚´ã®é©å¿œé€Ÿåº¦ã‚’ä¸Šå›ã‚‹ãƒšãƒ¼ã‚¹ã§ã™ã€‚</span>
            </p>
        </div>

        <!-- Key Finding Box -->
        <div class="key-finding-box">
            <div class="finding-icon">ğŸ”¬</div>
            <div class="finding-content">
                <h3>
                    <span data-lang="en">Key Finding</span>
                    <span data-lang="ja">ä¸»è¦ãªç™ºè¦‹</span>
                </h3>
                <p>
                    <span data-lang="en">2024 was the warmest year on record at 6 of 7 monitoring sites. At Sekisei Lagoon, annual mean SST reached 27.04Â°Câ€”a +1.06Â°C anomaly from the 1981-2010 baseline.</span>
                    <span data-lang="ja">2024å¹´ã¯7åœ°ç‚¹ä¸­6åœ°ç‚¹ã§è¦³æ¸¬å²ä¸Šæœ€ã‚‚æš–ã‹ã„å¹´ã§ã—ãŸã€‚çŸ³è¥¿ç¤æ¹–ã§ã¯å¹´å¹³å‡æ°´æ¸©ãŒ27.04â„ƒã«é”ã—ã€1981-2010å¹´åŸºæº–ã‹ã‚‰+1.06â„ƒã®ã‚¢ãƒãƒãƒªãƒ¼ã‚’è¨˜éŒ²ã—ã¾ã—ãŸã€‚</span>
                </p>
            </div>
        </div>

        <!-- Site Selector -->
        <div class="card">
            <div class="card-title">
                <span data-lang="en">Select Site</span>
                <span data-lang="ja">åœ°ç‚¹ã‚’é¸æŠ</span>
            </div>
            <div class="site-selector">
                <button class="site-btn active" data-site="sekisei">
                    <span class="site-dot" style="background: var(--sekisei)"></span>
                    <span data-lang="en">Sekisei</span><span data-lang="ja">çŸ³è¥¿ç¤æ¹–</span>
                </button>
                <button class="site-btn" data-site="kerama">
                    <span class="site-dot" style="background: var(--kerama)"></span>
                    <span data-lang="en">Kerama</span><span data-lang="ja">æ…¶è‰¯é–“</span>
                </button>
                <button class="site-btn" data-site="sesoko">
                    <span class="site-dot" style="background: var(--sesoko)"></span>
                    <span data-lang="en">Sesoko</span><span data-lang="ja">ç€¬åº•</span>
                </button>
                <button class="site-btn" data-site="amami">
                    <span class="site-dot" style="background: var(--amami)"></span>
                    <span data-lang="en">Amami</span><span data-lang="ja">å¥„ç¾</span>
                </button>
                <button class="site-btn" data-site="ogasawara">
                    <span class="site-dot" style="background: var(--ogasawara)"></span>
                    <span data-lang="en">Ogasawara</span><span data-lang="ja">å°ç¬ åŸ</span>
                </button>
                <button class="site-btn" data-site="kushimoto">
                    <span class="site-dot" style="background: var(--kushimoto)"></span>
                    <span data-lang="en">Kushimoto</span><span data-lang="ja">ä¸²æœ¬</span>
                </button>
            </div>
        </div>

        <!-- Main Chart -->
        <div class="card">
            <div class="card-title">
                <span data-lang="en">Annual Mean SST (1981-2024)</span>
                <span data-lang="ja">å¹´å¹³å‡æµ·æ°´æ¸©ï¼ˆ1981-2024ï¼‰</span>
            </div>
            <div class="chart-container">
                <canvas id="trendChart"></canvas>
            </div>
            <div class="chart-legend">
                <div class="legend-item">
                    <span class="legend-dot" style="background: var(--accent-teal)"></span>
                    <span data-lang="en">Annual Mean</span>
                    <span data-lang="ja">å¹´å¹³å‡</span>
                </div>
                <div class="legend-item">
                    <span class="legend-line" style="background: var(--hot-color)"></span>
                    <span data-lang="en">Linear Trend</span>
                    <span data-lang="ja">ç·šå½¢ãƒˆãƒ¬ãƒ³ãƒ‰</span>
                </div>
                <div class="legend-item">
                    <span class="legend-line dashed" style="background: var(--text-muted)"></span>
                    <span data-lang="en">1981-2010 Mean</span>
                    <span data-lang="ja">åŸºæº–å€¤</span>
                </div>
            </div>
            <div class="trend-stats" id="trend-stats">
                <!-- Dynamically populated -->
            </div>
        </div>

        <!-- Anomaly Chart -->
        <div class="card">
            <div class="card-title">
                <span data-lang="en">Temperature Anomaly from Baseline</span>
                <span data-lang="ja">åŸºæº–å€¤ã‹ã‚‰ã®åå·®ï¼ˆã‚¢ãƒãƒãƒªãƒ¼ï¼‰</span>
            </div>
            <div class="chart-container">
                <canvas id="anomalyChart"></canvas>
            </div>
            <p class="chart-note">
                <span data-lang="en">Anomaly = Deviation from 1981-2010 climatology. Positive values (red) indicate warmer-than-average years.</span>
                <span data-lang="ja">ã‚¢ãƒãƒãƒªãƒ¼ = 1981-2010å¹´å¹³å‡ã‹ã‚‰ã®åå·®ã€‚æ­£ã®å€¤ï¼ˆèµ¤ï¼‰ã¯å¹³å¹´ã‚ˆã‚Šæš–ã‹ã„å¹´ã‚’ç¤ºã—ã¾ã™ã€‚</span>
            </p>
        </div>

        <!-- Comparison Table -->
        <div class="card">
            <div class="card-title">
                <span data-lang="en">Warming Trends by Site</span>
                <span data-lang="ja">åœ°ç‚¹åˆ¥æ¸©æš–åŒ–ãƒˆãƒ¬ãƒ³ãƒ‰</span>
            </div>
            <div class="table-responsive">
                <table class="trend-table" id="trend-table">
                    <thead>
                        <tr>
                            <th><span data-lang="en">Site</span><span data-lang="ja">åœ°ç‚¹</span></th>
                            <th><span data-lang="en">Trend</span><span data-lang="ja">ãƒˆãƒ¬ãƒ³ãƒ‰</span></th>
                            <th>RÂ²</th>
                            <th><span data-lang="en">1981-1990</span><span data-lang="ja">1981-1990</span></th>
                            <th><span data-lang="en">2015-2024</span><span data-lang="ja">2015-2024</span></th>
                            <th><span data-lang="en">Change</span><span data-lang="ja">å¤‰åŒ–</span></th>
                            <th><span data-lang="en">Warmest Year</span><span data-lang="ja">æœ€æš–å¹´</span></th>
                        </tr>
                    </thead>
                    <tbody>
                        <!-- Dynamically populated -->
                    </tbody>
                </table>
            </div>
        </div>

        <!-- Bleaching Events Overlay -->
        <div class="card">
            <div class="card-title">
                <span data-lang="en">Major Bleaching Events</span>
                <span data-lang="ja">ä¸»è¦ãªç™½åŒ–ã‚¤ãƒ™ãƒ³ãƒˆ</span>
            </div>
            <div class="bleaching-timeline">
                <div class="timeline-event" data-year="1998">
                    <span class="event-year">1998</span>
                    <span class="event-desc">
                        <span data-lang="en">First global mass bleaching. 16% of world's corals died.</span>
                        <span data-lang="ja">å²ä¸Šåˆã®ä¸–ç•Œçš„å¤§è¦æ¨¡ç™½åŒ–ã€‚ä¸–ç•Œã®ã‚µãƒ³ã‚´ã®16%ãŒæ­»æ»…ã€‚</span>
                    </span>
                </div>
                <div class="timeline-event" data-year="2016">
                    <span class="event-year">2016</span>
                    <span class="event-desc">
                        <span data-lang="en">Severe bleaching at Sekisei Lagoon. 70% coral mortality in some areas.</span>
                        <span data-lang="ja">çŸ³è¥¿ç¤æ¹–ã§æ·±åˆ»ãªç™½åŒ–ã€‚ä¸€éƒ¨æµ·åŸŸã§70%ã®ã‚µãƒ³ã‚´ãŒæ­»æ»…ã€‚</span>
                    </span>
                </div>
                <div class="timeline-event current" data-year="2024">
                    <span class="event-year">2024</span>
                    <span class="event-desc">
                        <span data-lang="en">4th global bleaching event. 77% of world's reefs affected.</span>
                        <span data-lang="ja">ç¬¬4æ¬¡ä¸–ç•Œçš„ç™½åŒ–ã‚¤ãƒ™ãƒ³ãƒˆã€‚ä¸–ç•Œã®ã‚µãƒ³ã‚´ç¤ã®77%ã«å½±éŸ¿ã€‚</span>
                    </span>
                </div>
            </div>
        </div>

        <!-- Interpretation Section -->
        <section class="content-section">
            <h2>
                <span data-lang="en">Understanding the Data</span>
                <span data-lang="ja">ãƒ‡ãƒ¼ã‚¿ã®è§£é‡ˆ</span>
            </h2>
            
            <div class="insight-grid">
                <div class="insight-card warming">
                    <h3>
                        <span class="insight-icon">ğŸŒ¡ï¸</span>
                        <span data-lang="en">Accelerating Warming</span>
                        <span data-lang="ja">åŠ é€Ÿã™ã‚‹æ¸©æš–åŒ–</span>
                    </h3>
                    <p>
                        <span data-lang="en">The warming rate of +0.2Â°C/decade may seem small, but over 44 years, this accumulates to nearly 1Â°C of warming. For corals living near their thermal limits, this is significant.</span>
                        <span data-lang="ja">+0.2â„ƒ/10å¹´ã®æ¸©æš–åŒ–ç‡ã¯å°ã•ãè¦‹ãˆã¾ã™ãŒã€44å¹´é–“ã§ç´„1â„ƒã®ä¸Šæ˜‡ã¨ãªã‚Šã¾ã™ã€‚ç†±çš„é™ç•Œä»˜è¿‘ã§ç”Ÿæ¯ã™ã‚‹ã‚µãƒ³ã‚´ã«ã¨ã£ã¦ã€ã“ã‚Œã¯æ·±åˆ»ãªå¤‰åŒ–ã§ã™ã€‚</span>
                    </p>
                </div>
                
                <div class="insight-card baseline">
                    <h3>
                        <span class="insight-icon">ğŸ“Š</span>
                        <span data-lang="en">Shifting Baseline</span>
                        <span data-lang="ja">ç§»å‹•ã™ã‚‹åŸºæº–ç·š</span>
                    </h3>
                    <p>
                        <span data-lang="en">The 1981-2010 "normal" is already warmer than pre-industrial conditions. Today's anomalies are measured against an already-elevated baseline.</span>
                        <span data-lang="ja">1981-2010å¹´ã®ã€Œå¹³å¹´å€¤ã€ã¯ã€ã™ã§ã«ç”£æ¥­é©å‘½å‰ã‚ˆã‚Šé«˜æ¸©ã§ã™ã€‚ç¾åœ¨ã®ã‚¢ãƒãƒãƒªãƒ¼ã¯ã€ã™ã§ã«ä¸Šæ˜‡ã—ãŸåŸºæº–ç·šã¨ã®æ¯”è¼ƒã§ã™ã€‚</span>
                    </p>
                </div>
                
                <div class="insight-card adaptation">
                    <h3>
                        <span class="insight-icon">ğŸ§¬</span>
                        <span data-lang="en">Adaptation Limits</span>
                        <span data-lang="ja">é©å¿œã®é™ç•Œ</span>
                    </h3>
                    <p>
                        <span data-lang="en">Some evidence suggests corals can adapt at rates of 0.2-0.5Â°C per decade through genetic adaptation and symbiont shuffling. Current warming rates are at the edge of this adaptive capacity.</span>
                        <span data-lang="ja">éºä¼çš„é©å¿œã‚„å…±ç”Ÿè—»ã®å…¥ã‚Œæ›¿ã‚ã‚Šã«ã‚ˆã‚Šã€ã‚µãƒ³ã‚´ã¯10å¹´ã‚ãŸã‚Š0.2-0.5â„ƒã®é€Ÿåº¦ã§é©å¿œã§ãã‚‹ã¨ã„ã†ç ”ç©¶ãŒã‚ã‚Šã¾ã™ã€‚ç¾åœ¨ã®æ¸©æš–åŒ–é€Ÿåº¦ã¯ã€ã“ã®é©å¿œèƒ½åŠ›ã®é™ç•Œä»˜è¿‘ã§ã™ã€‚</span>
                    </p>
                    <span class="citation">Logan et al. 2021, PLOS Climate</span>
                </div>
            </div>
        </section>

        <!-- Data Source -->
        <div class="source-info">
            <strong><span data-lang="en">Data Source:</span><span data-lang="ja">ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹ï¼š</span></strong>
            <span data-lang="en">HadISST 1.1 (Met Office Hadley Centre) via ERDDAP. Monthly SST at 1Â°Ã—1Â° resolution, aggregated to annual means. Baseline period: 1981-2010.</span>
            <span data-lang="ja">HadISST 1.1ï¼ˆMet Office Hadley Centreï¼‰ã‚’ERDDAPã‚ˆã‚Šå–å¾—ã€‚1Â°Ã—1Â°è§£åƒåº¦ã®æœˆæ¬¡SSTã‚’å¹´å¹³å‡ã«é›†è¨ˆã€‚åŸºæº–æœŸé–“ï¼š1981-2010å¹´ã€‚</span>
            <br>
            <a href="https://www.metoffice.gov.uk/hadobs/hadisst/" target="_blank" rel="noopener">HadISST Dataset â†’</a>
        </div>

        <!-- References -->
        <section class="references-section">
            <h2>
                <span data-lang="en">References</span>
                <span data-lang="ja">å‚è€ƒæ–‡çŒ®</span>
            </h2>
            <ul class="ref-list">
                <li>Henley BM et al. (2024) Highest ocean satisfies in four centuries place Great Barrier Reef in danger. <em>Nature</em>. <a href="https://doi.org/10.1038/s41586-024-08082-3" target="_blank">doi:10.1038/s41586-024-08082-3</a></li>
                <li>Logan CA et al. (2021) Quantifying global potential for coral evolutionary response to climate change. <em>PLOS Climate</em>. <a href="https://doi.org/10.1371/journal.pclm.0000030" target="_blank">doi:10.1371/journal.pclm.0000030</a></li>
                <li>Rayner NA et al. (2003) Global analyses of sea surface temperature, sea ice, and night marine air temperature since the late nineteenth century. <em>J. Geophys. Res.</em> 108(D14), 4407.</li>
            </ul>
        </section>
    </main>

    <footer>
        <p>
            <span data-lang="en">Â© 2025 marine-obs.org | Independent coral reef monitoring</span>
            <span data-lang="ja">Â© 2025 marine-obs.org | ç‹¬ç«‹ç³»ã‚µãƒ³ã‚´ç¤ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°</span>
        </p>
        <p style="margin-top: 0.5rem;">
            <a href="about.html"><span data-lang="en">About</span><span data-lang="ja">ã“ã®ã‚µã‚¤ãƒˆã«ã¤ã„ã¦</span></a> ãƒ»
            <a href="contact.html"><span data-lang="en">Contact</span><span data-lang="ja">ãŠå•ã„åˆã‚ã›</span></a> ãƒ»
            <a href="datasources.html"><span data-lang="en">Data Sources</span><span data-lang="ja">ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹</span></a>
        </p>
    </footer>

    <script src="js/lang.js"></script>
    <script>
        // Supabase config
        const SUPABASE_URL = 'https://pegiuiblpliainpdggfj.supabase.co';
        const SUPABASE_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InBlZ2l1aWJscGxpYWlucGRnZ2ZqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQyMDkzNzQsImV4cCI6MjA3OTc4NTM3NH0.r9dBAsMLoXbgZL93lvA756r74U6YfCCfftHHlxYqZIw';
        
        // Site colors
        const SITE_COLORS = {
            kushimoto: '#805ad5',
            ogasawara: '#2f855a',
            amami: '#d53f8c',
            sesoko: '#2b6cb0',
            manza: '#c05621',
            kerama: '#0891b2',
            sekisei: '#e53e3e'
        };
        
        const SITE_NAMES = {
            en: {
                kushimoto: 'Kushimoto',
                ogasawara: 'Ogasawara',
                amami: 'Amami',
                sesoko: 'Sesoko',
                manza: 'Manza',
                kerama: 'Kerama',
                sekisei: 'Sekisei Lagoon'
            },
            ja: {
                kushimoto: 'ä¸²æœ¬',
                ogasawara: 'å°ç¬ åŸ',
                amami: 'å¥„ç¾å¤§å³¶',
                sesoko: 'ç€¬åº•',
                manza: 'ä¸‡åº§',
                kerama: 'æ…¶è‰¯é–“',
                sekisei: 'çŸ³è¥¿ç¤æ¹–'
            }
        };
        
        let currentSite = 'sekisei';
        let annualData = {};
        let trendChart = null;
        let anomalyChart = null;
        
        // Fetch annual SST data
        async function fetchAnnualData() {
            try {
                const response = await fetch(`${SUPABASE_URL}/rest/v1/rpc/get_annual_sst_hadisst`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'apikey': SUPABASE_KEY
                    },
                    body: JSON.stringify({})
                });
                
                const data = await response.json();
                
                // Filter out incomplete years (2025 has only 1 month)
                const filteredData = data.filter(row => row.year <= 2024);
                
                // Group by site
                filteredData.forEach(row => {
                    if (!annualData[row.site]) {
                        annualData[row.site] = [];
                    }
                    annualData[row.site].push(row);
                });
                
                // Sort by year
                Object.keys(annualData).forEach(site => {
                    annualData[site].sort((a, b) => a.year - b.year);
                });
                
                return true;
            } catch (error) {
                console.error('Error fetching data:', error);
                return false;
            }
        }
        
        // Calculate linear trend
        function calcTrend(data) {
            const n = data.length;
            let sumX = 0, sumY = 0, sumXY = 0, sumXX = 0;
            
            data.forEach(d => {
                sumX += d.year;
                sumY += parseFloat(d.mean_sst);
                sumXY += d.year * parseFloat(d.mean_sst);
                sumXX += d.year * d.year;
            });
            
            const slope = (n * sumXY - sumX * sumY) / (n * sumXX - sumX * sumX);
            const intercept = (sumY - slope * sumX) / n;
            
            // R-squared
            const yMean = sumY / n;
            let ssTotal = 0, ssRes = 0;
            data.forEach(d => {
                const y = parseFloat(d.mean_sst);
                const yPred = slope * d.year + intercept;
                ssTotal += (y - yMean) ** 2;
                ssRes += (y - yPred) ** 2;
            });
            const rSquared = 1 - (ssRes / ssTotal);
            
            return { slope, intercept, rSquared, trendPerDecade: slope * 10 };
        }
        
        // Create main trend chart
        function createTrendChart(site) {
            const data = annualData[site];
            if (!data || data.length === 0) return;
            
            const years = data.map(d => d.year);
            const sst = data.map(d => parseFloat(d.mean_sst));
            const trend = calcTrend(data);
            
            // Calculate baseline mean (1981-2010)
            const baselineData = data.filter(d => d.year >= 1981 && d.year <= 2010);
            const baselineMean = baselineData.reduce((sum, d) => sum + parseFloat(d.mean_sst), 0) / baselineData.length;
            
            // Trend line points
            const trendLine = years.map(y => trend.slope * y + trend.intercept);
            
            const ctx = document.getElementById('trendChart').getContext('2d');
            
            if (trendChart) trendChart.destroy();
            
            trendChart = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: years,
                    datasets: [
                        {
                            label: 'Annual Mean SST',
                            data: sst,
                            borderColor: SITE_COLORS[site],
                            backgroundColor: SITE_COLORS[site] + '40',
                            borderWidth: 2,
                            pointRadius: 3,
                            pointHoverRadius: 6,
                            fill: false,
                            tension: 0.1
                        },
                        {
                            label: 'Linear Trend',
                            data: trendLine,
                            borderColor: '#dc2626',
                            borderWidth: 2,
                            borderDash: [5, 5],
                            pointRadius: 0,
                            fill: false
                        }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    interaction: {
                        intersect: false,
                        mode: 'index'
                    },
                    plugins: {
                        legend: { display: false },
                        annotation: {
                            annotations: {
                                baseline: {
                                    type: 'line',
                                    yMin: baselineMean,
                                    yMax: baselineMean,
                                    borderColor: '#718096',
                                    borderWidth: 1,
                                    borderDash: [3, 3],
                                    label: {
                                        display: true,
                                        content: '1981-2010 Mean',
                                        position: 'start',
                                        font: { size: 10 }
                                    }
                                },
                                bleaching1998: {
                                    type: 'line',
                                    xMin: 1998,
                                    xMax: 1998,
                                    borderColor: '#f59e0b80',
                                    borderWidth: 2
                                },
                                bleaching2016: {
                                    type: 'line',
                                    xMin: 2016,
                                    xMax: 2016,
                                    borderColor: '#f59e0b80',
                                    borderWidth: 2
                                },
                                bleaching2024: {
                                    type: 'line',
                                    xMin: 2024,
                                    xMax: 2024,
                                    borderColor: '#ef444480',
                                    borderWidth: 2
                                }
                            }
                        },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    if (context.datasetIndex === 0) {
                                        return `SST: ${context.parsed.y.toFixed(2)}Â°C`;
                                    }
                                    return `Trend: ${context.parsed.y.toFixed(2)}Â°C`;
                                }
                            }
                        }
                    },
                    scales: {
                        x: {
                            grid: { display: false },
                            ticks: {
                                callback: function(value, index) {
                                    const year = this.getLabelForValue(value);
                                    return year % 5 === 0 ? year : '';
                                }
                            }
                        },
                        y: {
                            title: {
                                display: true,
                                text: 'SST (Â°C)'
                            },
                            grid: { color: '#e2e8f040' }
                        }
                    }
                }
            });
            
            // Update trend stats
            updateTrendStats(site, trend, baselineMean);
        }
        
        // Create anomaly chart
        function createAnomalyChart(site) {
            const data = annualData[site];
            if (!data || data.length === 0) return;
            
            const years = data.map(d => d.year);
            const anomalies = data.map(d => parseFloat(d.anomaly));
            
            const ctx = document.getElementById('anomalyChart').getContext('2d');
            
            if (anomalyChart) anomalyChart.destroy();
            
            anomalyChart = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: years,
                    datasets: [{
                        label: 'Anomaly',
                        data: anomalies,
                        backgroundColor: anomalies.map(a => a >= 0 ? '#ef4444' : '#3b82f6'),
                        borderWidth: 0
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: { display: false },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    const val = context.parsed.y;
                                    return `Anomaly: ${val >= 0 ? '+' : ''}${val.toFixed(2)}Â°C`;
                                }
                            }
                        }
                    },
                    scales: {
                        x: {
                            grid: { display: false },
                            ticks: {
                                callback: function(value, index) {
                                    const year = this.getLabelForValue(value);
                                    return year % 5 === 0 ? year : '';
                                }
                            }
                        },
                        y: {
                            title: {
                                display: true,
                                text: 'Anomaly (Â°C)'
                            },
                            grid: { color: '#e2e8f040' }
                        }
                    }
                }
            });
        }
        
        // Update trend statistics display
        function updateTrendStats(site, trend, baseline) {
            const data = annualData[site];
            const early = data.filter(d => d.year <= 1990);
            const recent = data.filter(d => d.year >= 2015 && d.year <= 2024);
            
            const earlyMean = early.reduce((s, d) => s + parseFloat(d.mean_sst), 0) / early.length;
            const recentMean = recent.reduce((s, d) => s + parseFloat(d.mean_sst), 0) / recent.length;
            
            const lang = document.body.classList.contains('ja') ? 'ja' : 'en';
            const siteName = SITE_NAMES[lang][site];
            
            document.getElementById('trend-stats').innerHTML = `
                <div class="stat-row">
                    <div class="stat-item">
                        <span class="stat-label">${lang === 'ja' ? 'ãƒˆãƒ¬ãƒ³ãƒ‰' : 'Trend'}</span>
                        <span class="stat-value trend-value">${trend.trendPerDecade >= 0 ? '+' : ''}${trend.trendPerDecade.toFixed(3)}Â°C/decade</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">RÂ²</span>
                        <span class="stat-value">${trend.rSquared.toFixed(3)}</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">1981-1990</span>
                        <span class="stat-value">${earlyMean.toFixed(2)}Â°C</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">2015-2024</span>
                        <span class="stat-value">${recentMean.toFixed(2)}Â°C</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">${lang === 'ja' ? 'å¤‰åŒ–' : 'Change'}</span>
                        <span class="stat-value change-value">+${(recentMean - earlyMean).toFixed(2)}Â°C</span>
                    </div>
                </div>
            `;
        }
        
        // Populate comparison table
        function populateTable() {
            const tbody = document.querySelector('#trend-table tbody');
            const lang = document.body.classList.contains('ja') ? 'ja' : 'en';
            
            const sites = ['sekisei', 'sesoko', 'kerama', 'amami', 'ogasawara', 'kushimoto'];
            let html = '';
            
            sites.forEach(site => {
                const data = annualData[site];
                if (!data || data.length === 0) return;
                
                const trend = calcTrend(data);
                const early = data.filter(d => d.year <= 1990);
                const recent = data.filter(d => d.year >= 2015 && d.year <= 2024);
                
                const earlyMean = early.reduce((s, d) => s + parseFloat(d.mean_sst), 0) / early.length;
                const recentMean = recent.reduce((s, d) => s + parseFloat(d.mean_sst), 0) / recent.length;
                
                // Find warmest year
                const warmest = data.reduce((max, d) => parseFloat(d.mean_sst) > parseFloat(max.mean_sst) ? d : max, data[0]);
                
                html += `
                    <tr>
                        <td>
                            <span class="site-dot" style="background: ${SITE_COLORS[site]}"></span>
                            ${SITE_NAMES[lang][site]}
                        </td>
                        <td class="trend-cell">${trend.trendPerDecade >= 0 ? '+' : ''}${trend.trendPerDecade.toFixed(3)}Â°C</td>
                        <td>${trend.rSquared.toFixed(3)}</td>
                        <td>${earlyMean.toFixed(2)}Â°C</td>
                        <td>${recentMean.toFixed(2)}Â°C</td>
                        <td class="change-cell">+${(recentMean - earlyMean).toFixed(2)}Â°C</td>
                        <td><strong>${warmest.year}</strong> (${parseFloat(warmest.mean_sst).toFixed(2)}Â°C)</td>
                    </tr>
                `;
            });
            
            tbody.innerHTML = html;
        }
        
        // Site selector
        function setupSiteSelector() {
            document.querySelectorAll('.site-btn').forEach(btn => {
                btn.addEventListener('click', () => {
                    document.querySelectorAll('.site-btn').forEach(b => b.classList.remove('active'));
                    btn.classList.add('active');
                    currentSite = btn.dataset.site;
                    createTrendChart(currentSite);
                    createAnomalyChart(currentSite);
                });
            });
        }
        
        // Initialize
        async function init() {
            const success = await fetchAnnualData();
            if (success) {
                createTrendChart(currentSite);
                createAnomalyChart(currentSite);
                populateTable();
                setupSiteSelector();
            }
        }
        
        document.addEventListener('DOMContentLoaded', init);
    </script>
</body>
</html>
