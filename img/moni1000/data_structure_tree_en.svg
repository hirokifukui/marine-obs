<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 800 500" font-family="'Helvetica Neue', Arial, sans-serif">
  <defs>
    <!-- Gradients -->
    <linearGradient id="blueGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#3b82f6"/>
      <stop offset="100%" style="stop-color:#2563eb"/>
    </linearGradient>
    <linearGradient id="grayGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#94a3b8"/>
      <stop offset="100%" style="stop-color:#64748b"/>
    </linearGradient>
    <linearGradient id="lightBlueGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#93c5fd"/>
      <stop offset="100%" style="stop-color:#60a5fa"/>
    </linearGradient>
    <linearGradient id="lightGrayGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#cbd5e1"/>
      <stop offset="100%" style="stop-color:#94a3b8"/>
    </linearGradient>
    <linearGradient id="navyGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#1e3a5f"/>
      <stop offset="100%" style="stop-color:#1a365d"/>
    </linearGradient>
    <linearGradient id="greenGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#22c55e"/>
      <stop offset="100%" style="stop-color:#16a34a"/>
    </linearGradient>
    <!-- Shadow filter -->
    <filter id="shadow" x="-20%" y="-20%" width="140%" height="140%">
      <feDropShadow dx="0" dy="2" stdDeviation="3" flood-color="#000" flood-opacity="0.12"/>
    </filter>
    <!-- Arrow marker -->
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#16a34a"/>
    </marker>
  </defs>
  
  <!-- Background -->
  <rect width="800" height="500" fill="#f8fafc" rx="12"/>
  
  <!-- ========== CONNECTION LINES ========== -->
  <!-- Top to Level 2 -->
  <path d="M 400 80 L 400 105 L 220 105 L 220 125" stroke="#cbd5e1" stroke-width="2.5" fill="none"/>
  <path d="M 400 80 L 400 105 L 580 105 L 580 125" stroke="#cbd5e1" stroke-width="2.5" fill="none"/>
  
  <!-- Level 2 to Level 3 -->
  <path d="M 150 200 L 150 220 L 100 220 L 100 240" stroke="#cbd5e1" stroke-width="2" fill="none"/>
  <path d="M 150 200 L 150 220 L 280 220 L 280 240" stroke="#cbd5e1" stroke-width="2" fill="none"/>
  <path d="M 580 200 L 580 220 L 520 220 L 520 240" stroke="#cbd5e1" stroke-width="2" fill="none"/>
  <path d="M 580 200 L 580 220 L 660 220 L 660 240" stroke="#cbd5e1" stroke-width="2" fill="none"/>
  
  <!-- Level 3 to Bottom Flow (curved) -->
  <path d="M 100 330 C 100 370, 180 390, 220 395" stroke="#3b82f6" stroke-width="2" fill="none" stroke-dasharray="6,3"/>
  <path d="M 280 330 C 280 360, 320 380, 360 395" stroke="#94a3b8" stroke-width="2" fill="none" stroke-dasharray="6,3"/>
  
  <!-- ========== TOP BOX: All 585 Sites ========== -->
  <g filter="url(#shadow)">
    <rect x="300" y="20" width="200" height="60" rx="10" fill="url(#navyGrad)"/>
  </g>
  <text x="400" y="48" text-anchor="middle" fill="white" font-size="15" font-weight="600">All 585 Sites</text>
  <text x="400" y="68" text-anchor="middle" fill="#93c5fd" font-size="12">100%</text>
  
  <!-- ========== LEVEL 2 ========== -->
  <!-- Complete 5-Year (Left) -->
  <g filter="url(#shadow)">
    <rect x="70" y="125" width="160" height="75" rx="10" fill="url(#blueGrad)"/>
  </g>
  <text x="150" y="152" text-anchor="middle" fill="white" font-size="13" font-weight="600">Complete 5-Year</text>
  <text x="150" y="177" text-anchor="middle" fill="white" font-size="26" font-weight="700">472</text>
  <text x="150" y="193" text-anchor="middle" fill="#bfdbfe" font-size="11">(81%)</text>
  
  <!-- Partial (Right) -->
  <g filter="url(#shadow)">
    <rect x="500" y="125" width="160" height="75" rx="10" fill="url(#grayGrad)"/>
  </g>
  <text x="580" y="152" text-anchor="middle" fill="white" font-size="13" font-weight="600">Partial (&lt;5 Years)</text>
  <text x="580" y="177" text-anchor="middle" fill="white" font-size="26" font-weight="700">113</text>
  <text x="580" y="193" text-anchor="middle" fill="#e2e8f0" font-size="11">(19%)</text>
  
  <!-- ========== LEVEL 3 ========== -->
  <!-- Complete + With Logger -->
  <g filter="url(#shadow)">
    <rect x="20" y="240" width="160" height="90" rx="10" fill="url(#blueGrad)"/>
  </g>
  <text x="100" y="268" text-anchor="middle" fill="white" font-size="12" font-weight="600">With Logger</text>
  <text x="100" y="298" text-anchor="middle" fill="white" font-size="30" font-weight="700">42</text>
  <text x="100" y="320" text-anchor="middle" fill="#bfdbfe" font-size="11">Validation</text>
  
  <!-- Complete + No Logger -->
  <g filter="url(#shadow)">
    <rect x="200" y="240" width="160" height="90" rx="10" fill="url(#lightGrayGrad)"/>
  </g>
  <text x="280" y="268" text-anchor="middle" fill="#1e293b" font-size="12" font-weight="600">No Logger</text>
  <text x="280" y="298" text-anchor="middle" fill="#1e293b" font-size="30" font-weight="700">430</text>
  <text x="280" y="320" text-anchor="middle" fill="#475569" font-size="11">Prediction Target</text>
  
  <!-- Partial + With Logger -->
  <g filter="url(#shadow)">
    <rect x="440" y="240" width="160" height="90" rx="10" fill="url(#lightBlueGrad)"/>
  </g>
  <text x="520" y="268" text-anchor="middle" fill="#1e3a5f" font-size="12" font-weight="600">With Logger</text>
  <text x="520" y="298" text-anchor="middle" fill="#1e3a5f" font-size="30" font-weight="700">2</text>
  <text x="520" y="320" text-anchor="middle" fill="#1e40af" font-size="11">Reference</text>
  
  <!-- Partial + No Logger -->
  <g filter="url(#shadow)">
    <rect x="620" y="240" width="160" height="90" rx="10" fill="url(#lightGrayGrad)"/>
  </g>
  <text x="700" y="268" text-anchor="middle" fill="#1e293b" font-size="12" font-weight="600">No Logger</text>
  <text x="700" y="298" text-anchor="middle" fill="#1e293b" font-size="30" font-weight="700">111</text>
  <text x="700" y="320" text-anchor="middle" fill="#475569" font-size="11">Reference</text>
  
  <!-- ========== BOTTOM FLOW ========== -->
  <!-- Correction Factors -->
  <g filter="url(#shadow)">
    <rect x="150" y="390" width="180" height="48" rx="24" fill="url(#greenGrad)"/>
  </g>
  <text x="240" y="420" text-anchor="middle" fill="white" font-size="13" font-weight="600">Correction Factors</text>
  
  <!-- Arrow -->
  <line x1="335" y1="414" x2="385" y2="414" stroke="#16a34a" stroke-width="3" marker-end="url(#arrowhead)"/>
  
  <!-- Bleaching Prediction -->
  <g filter="url(#shadow)">
    <rect x="400" y="390" width="200" height="48" rx="24" fill="url(#greenGrad)"/>
  </g>
  <text x="500" y="420" text-anchor="middle" fill="white" font-size="13" font-weight="600">Bleaching Prediction</text>
  
  <!-- ========== ANNOTATIONS ========== -->
  <text x="100" y="360" text-anchor="middle" fill="#2563eb" font-size="10" font-style="italic">satellite validation</text>
  <text x="280" y="360" text-anchor="middle" fill="#64748b" font-size="10" font-style="italic">apply correction</text>
  
  <!-- ========== LEGEND ========== -->
  <g transform="translate(580, 450)">
    <rect x="0" y="0" width="200" height="40" rx="6" fill="white" stroke="#e2e8f0" stroke-width="1"/>
    <rect x="15" y="10" width="14" height="14" rx="3" fill="#2563eb"/>
    <text x="38" y="17" fill="#475569" font-size="10" dominant-baseline="middle">Logger sites (44)</text>
    <rect x="140" y="10" width="14" height="14" rx="3" fill="#94a3b8"/>
    <text x="163" y="17" fill="#475569" font-size="10" dominant-baseline="middle">Other</text>
  </g>
  
</svg>