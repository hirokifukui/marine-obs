<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>marine-obs.org | Coral Thermal Stress Monitor</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=DM+Sans:opsz,wght@9..40,400;9..40,500;9..40,600&family=JetBrains+Mono:wght@500&family=Noto+Sans+JP:wght@400;500;600&display=swap" rel="stylesheet">
    <style>
        :root {
            --header-bg: #1a1f2e;
            --header-text: #ffffff;
            --bg-primary: #ffffff;
            --bg-secondary: #f8f9fa;
            --bg-card: #ffffff;
            --text-primary: #1a202c;
            --text-secondary: #4a5568;
            --text-muted: #718096;
            --accent-teal: #2b6cb0;
            --accent-coral: #996060;
            --accent-warm: #c05621;
            --accent-green: #2f855a;
            --border: #e2e8f0;
            --shadow: 0 1px 3px rgba(0,0,0,0.08);
            --chart-line-1: #2b6cb0;
            --chart-line-2: #c05621;
            --chart-line-3: #2f855a;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'DM Sans', 'Noto Sans JP', sans-serif;
            background: var(--bg-secondary);
            color: var(--text-primary);
            line-height: 1.6;
            min-height: 100vh;
        }

        body.ja {
            font-family: 'Noto Sans JP', 'DM Sans', sans-serif;
        }

        /* Header */
        header {
            background: var(--header-bg);
            color: var(--header-text);
            padding: 0.75rem 2rem;
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .header-content {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            justify-content: flex-start;
            align-items: center;
        }

        .logo {
            font-weight: 600;
            font-size: 0.75rem;
            letter-spacing: -0.01em;
            display: flex;
            align-items: center;
            gap: 0.75rem;
            text-decoration: none;
            color: inherit;
        }

        .logo-icon {
            overflow: hidden;
            width: 28px;
            height: 28px;
            background: linear-gradient(135deg, #5b9a94 0%, #2b6cb0 100%);
            border-radius: 6px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.75rem;
        }

        .nav-links {
            display: flex;
            gap: 1.5rem;
            list-style: none;
        }

        .nav-links a {
            color: rgba(255,255,255,0.8);
            text-decoration: none;
            font-size: 0.9rem;
            font-weight: 500;
            transition: color 0.2s;
        }

        .nav-links a:hover, .nav-links a.active {
            color: #ffffff;
        }

        .header-controls {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .lang-switch {
            font-size: 0.8rem;
            display: flex;
            gap: 0.25rem;
        }

        .lang-switch button {
            background: none;
            border: none;
            color: rgba(255,255,255,0.6);
            cursor: pointer;
            font-size: 0.8rem;
            padding: 0.25rem 0.5rem;
            border-radius: 4px;
            transition: all 0.2s;
        }

        .lang-switch button:hover {
            color: rgba(255,255,255,0.9);
        }

        .lang-switch button.active {
            color: #ffffff;
            background: rgba(255,255,255,0.15);
        }

        /* Main content */
        main {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2.5rem 2rem;
        }

        /* Page sections */
        .page-section {
            display: none;
        }

        .page-section.active {
            display: block;
        }

        /* Hero */
        .hero {
            margin-bottom: 2.5rem;
        }

        .hero h1 {
            font-size: 1.75rem;
            font-weight: 600;
            letter-spacing: -0.02em;
            line-height: 1.3;
            margin-bottom: 1rem;
            color: var(--text-primary);
        }

        body.ja .hero h1 {
            font-size: 1.5rem;
            letter-spacing: 0;
        }

        .hero-subtitle {
            font-size: 0.75rem;
            color: var(--text-secondary);
            max-width: 720px;
            line-height: 1.7;
        }

        body.ja .hero-subtitle {
            line-height: 1.9;
        }

        /* Hero Visual Section */
.hero-visual {
    position: relative;
    min-height: 75vh;
    display: flex;
    align-items: center;
    margin: -2.5rem -2rem 3rem -2rem;
    padding: 4rem 2rem;
    background: linear-gradient(
        135deg, 
        rgba(26, 32, 46, 0.88) 0%, 
        rgba(26, 32, 46, 0.75) 50%,
        rgba(26, 32, 46, 0.65) 100%
    ), url('hero.jpg');
    background-size: cover;
    background-position: center;
    overflow: hidden;
}

.hero-visual-content {
    max-width: 1200px;
    margin: 0 auto;
    width: 100%;
    color: #ffffff;
}

.hero-visual h1 {
    font-size: 2.5rem;
    font-weight: 600;
    letter-spacing: -0.02em;
    line-height: 1.2;
    margin-bottom: 2rem;
    text-shadow: 0 2px 20px rgba(0,0,0,0.3);
}

body.ja .hero-visual h1 {
    font-size: 2.2rem;
    letter-spacing: 0.05em;
}

.hero-visual-text {
    font-size: 1.05rem;
    line-height: 2;
    max-width: 640px;
    color: rgba(255, 255, 255, 0.92);
    margin-bottom: 2rem;
}

body.ja .hero-visual-text {
    line-height: 2.2;
}

.hero-visual-text p {
    margin-bottom: 1.2rem;
}

.hero-visual-text p:last-child {
    margin-bottom: 0;
}

.hero-visual-link {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    color: #5b9a94;
    text-decoration: none;
    font-size: 0.95rem;
    font-weight: 500;
    transition: all 0.2s;
    margin-top: 1.5rem;
}

.hero-visual-link:hover {
    color: #7ab8b0;
    gap: 0.75rem;
}

.hero-visual-signature {
    font-size: 0.75rem;
    color: rgba(255, 255, 255, 0.55);
    font-style: italic;
    margin-top: 2rem;
    padding-top: 1.5rem;
    border-top: 1px solid rgba(255, 255, 255, 0.12);
    max-width: 640px;
}

.scroll-indicator {
    position: absolute;
    bottom: 2rem;
    left: 50%;
    transform: translateX(-50%);
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 0.5rem;
    color: rgba(255, 255, 255, 0.45);
    font-size: 0.75rem;
    animation: bounce 2s infinite;
}

@keyframes bounce {
    0%, 20%, 50%, 80%, 100% { transform: translateX(-50%) translateY(0); }
    40% { transform: translateX(-50%) translateY(-8px); }
    60% { transform: translateX(-50%) translateY(-4px); }
}

@media (max-width: 768px) {
    .hero-btn {
        font-size: 0.7rem;
        padding: 0.4rem 1rem;
        min-width: 120px;
    }
    .hero-btn-secondary {
        font-size: 0.65rem;
    }
    .hero-visual {
        min-height: 85vh;
        padding: 3rem 1.5rem;
        margin: -2.5rem -1rem 2rem -1rem;
    }
    
    .hero-visual h1 {
        font-size: 1.75rem;
    }
    
    body.ja .hero-visual h1 {
        font-size: 1.6rem;
    }
    
    .hero-visual-text {
        font-size: 0.95rem;
    }
    
    .scroll-indicator {
        bottom: 1.5rem;
    }
}


.diver-cta-card .title {
    font-weight: 600;
    font-size: 0.95rem;
    color: var(--text-primary);
}

.diver-cta-card .desc {
    font-size: 0.8rem;
    color: var(--text-muted);
    line-height: 1.5;
}

.diver-cta-card.coming-soon {
    opacity: 0.6;
    pointer-events: none;
}

.diver-cta-card.coming-soon .title::after {
    content: ' (Ê∫ñÂÇô‰∏≠)';
    font-size: 0.7rem;
    color: var(--text-muted);
    font-weight: normal;
}

body:not(.ja) .diver-cta-card.coming-soon .title::after {
    content: ' (Coming Soon)';
}

        /* Section titles */
        .section-title {
            font-size: 1.1rem;
            font-weight: 600;
            margin-bottom: 1rem;
            color: var(--text-primary);
        }


        /* KPI Multi-value layout */
        .kpi-value-multi {
            display: flex;
            flex-direction: column;
            gap: 0.35rem;
            margin: 0.5rem 0;
        }
        .kpi-site {
            display: flex;
            align-items: center;
            gap: 0.4rem;
            font-size: 0.75rem;
            color: var(--text-secondary);
        }
        .kpi-site strong {
            font-family: 'JetBrains Mono', monospace;
            font-size: 1.1rem;
            color: var(--text-primary);
        }
        .kpi-site strong.warning {
            color: var(--accent-warm);
        }
        .kpi-site strong.alert {
            color: var(--accent-coral);
        }
        .site-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            flex-shrink: 0;
        }

        /* KPI Cards */
        .kpi-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
            gap: 1rem;
            margin-bottom: 2.5rem;
        }

        .kpi-card {
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 8px;
            padding: 1.25rem 1.5rem;
            box-shadow: var(--shadow);
        }

        a.kpi-card-link {
            text-decoration: none;
            color: inherit;
            display: block;
            transition: all 0.2s ease;
        }

        a.kpi-card-link:hover {
            border-color: var(--accent-teal);
            box-shadow: 0 2px 8px rgba(43, 108, 176, 0.15);
            transform: translateY(-2px);
        }

        .kpi-label {
            font-size: 0.8rem;
            font-weight: 500;
            color: var(--text-muted);
            margin-bottom: 0.5rem;
        }

        .kpi-value {
            font-family: 'JetBrains Mono', monospace;
            font-size: 2rem;
            font-weight: 500;
            letter-spacing: -0.02em;
            line-height: 1;
            margin-bottom: 0.35rem;
            color: var(--text-primary);
        }

        .kpi-value.highlight { color: var(--accent-teal); }
        .kpi-value.warning { color: var(--accent-warm); }
        .kpi-value.alert { color: var(--accent-coral); }

        .kpi-context {
            font-size: 0.8rem;
            color: var(--text-muted);
        }

        .kpi-unit {
            font-size: 0.75rem;
            color: var(--text-muted);
            margin-left: 0.15rem;
        }

        /* Chart cards */
        .chart-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 1rem;
            margin-bottom: 2.5rem;
        }

        .chart-card {
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 8px;
            padding: 1.25rem;
            box-shadow: var(--shadow);
        }

        .chart-header {
            margin-bottom: 1rem;
            padding-bottom: 0.75rem;
            border-bottom: 1px solid var(--border);
        }

        .chart-title {
            font-size: 0.75rem;
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 0.25rem;
        }

        .chart-subtitle {
            font-size: 0.75rem;
            color: var(--text-muted);
        }

        .chart-container {
            height: 200px;
            position: relative;
        }

        .chart-svg {
            width: 100%;
            height: 100%;
        }

        .chart-line {
            fill: none;
            stroke-width: 1.5;
            stroke-linecap: round;
            stroke-linejoin: round;
        }

        .chart-line-1 { stroke: var(--chart-line-1); }
        .chart-line-2 { stroke: var(--chart-line-2); }
        .chart-line-3 { stroke: var(--chart-line-3); }

        .chart-grid-line {
            stroke: #e2e8f0;
            stroke-width: 1;
        }

        .chart-label {
            fill: var(--text-muted);
            font-size: 10px;
            font-family: 'JetBrains Mono', monospace;
        }

        .chart-legend {
            display: flex;
            gap: 1rem;
            margin-top: 0.75rem;
            flex-wrap: wrap;
        }

        .legend-item {
            display: flex;
            align-items: center;
            gap: 0.35rem;
            font-size: 0.7rem;
            color: var(--text-secondary);
        }

        .legend-line {
            width: 16px;
            height: 2px;
        }

        .legend-line-1 { background: var(--chart-line-1); }
        .legend-line-2 { background: var(--chart-line-2); }
        .legend-line-3 { background: var(--chart-line-3); }

        /* Info grid */
        .info-grid {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 1rem;
        }

        @media (max-width: 768px) {
    .hero-btn {
        font-size: 0.7rem;
        padding: 0.4rem 1rem;
        min-width: 120px;
    }
    .hero-btn-secondary {
        font-size: 0.65rem;
    }
            .info-grid {
                grid-template-columns: 1fr;
            }
        }

        .info-card {
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 8px;
            padding: 1.5rem;
            box-shadow: var(--shadow);
        }

        .info-card h3 {
            font-size: 0.9rem;
            font-weight: 600;
            margin-bottom: 1rem;
            color: var(--text-primary);
        }

        .info-card p {
            font-size: 0.9rem;
            color: var(--text-secondary);
            line-height: 1.75;
            margin-bottom: 0.75rem;
        }

        body.ja .info-card p {
            line-height: 1.9;
        }

        .info-card a.more-link {
            color: var(--accent-teal);
            text-decoration: none;
            font-weight: 500;
            font-size: 0.75rem;
        }

        .info-card a.more-link:hover {
            text-decoration: underline;
        }

        /* Source list */
        .source-list {
            list-style: none;
        }

        .source-item {
            display: flex;
            justify-content: flex-start;
            align-items: center;
            padding: 0.6rem 0;
            border-bottom: 1px solid var(--border);
            font-size: 0.75rem;
        }

        .source-item:last-child {
            border-bottom: none;
        }

        .source-name {
            color: var(--text-secondary);
        }

        .source-badge {
            font-size: 0.7rem;
            font-weight: 600;
            padding: 0.2rem 0.5rem;
            border-radius: 3px;
            text-transform: uppercase;
            letter-spacing: 0.03em;
        }

        .source-badge.active {
            background: #d4e8e0;
            color: #2a4a3d;
        }

        .source-badge.pending {
            background: #feebc8;
            color: #6b5a3d;
        }

        /* About page */
        .about-content {
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 8px;
            padding: 2.5rem;
            box-shadow: var(--shadow);
            max-width: 800px;
        }

        .about-content h1 {
            font-size: 1.5rem;
            font-weight: 600;
            margin-bottom: 2rem;
            color: var(--text-primary);
        }

        body.ja .about-content h1 {
            font-size: 1.35rem;
        }

        .about-content h2 {
            font-size: 0.75rem;
            font-weight: 600;
            margin-top: 2rem;
            margin-bottom: 0.75rem;
            color: var(--text-primary);
        }

        .about-content p {
            font-size: 0.95rem;
            color: var(--text-secondary);
            line-height: 1.85;
            margin-bottom: 1rem;
        }

        body.ja .about-content p {
            line-height: 2;
        }

        .about-signature {
            margin-top: 2.5rem;
            padding-top: 1.5rem;
            border-top: 1px solid var(--border);
            font-size: 0.75rem;
            color: var(--text-muted);
            font-style: italic;
        }

        /* Glossary page */
        .glossary-grid {
            display: grid;
            gap: 1rem;
        }

        .glossary-card {
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 8px;
            padding: 1.5rem;
            box-shadow: var(--shadow);
        }

        .glossary-term {
            font-size: 0.75rem;
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 0.25rem;
        }

        .glossary-term-en {
            font-size: 0.8rem;
            color: var(--text-muted);
            margin-bottom: 0.75rem;
        }

        .glossary-def {
            font-size: 0.9rem;
            color: var(--text-secondary);
            line-height: 1.75;
        }

        body.ja .glossary-def {
            line-height: 1.9;
        }

        .glossary-note {
            font-size: 0.8rem;
            color: var(--text-muted);
            margin-top: 0.5rem;
            padding-left: 0.75rem;
            border-left: 2px solid var(--border);
        }

        /* Footer */
        footer {
            background: var(--bg-card);
            border-top: 1px solid var(--border);
            padding: 1.5rem 2rem;
            margin-top: 2rem;
        }

        .footer-content {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            justify-content: flex-start;
            align-items: center;
            flex-wrap: wrap;
            gap: 1rem;
            font-size: 0.8rem;
            color: var(--text-muted);
        }

        .footer-links {
            display: flex;
            gap: 1.5rem;
        }

        .footer-links a {
            color: var(--text-secondary);
            text-decoration: none;
        }

        .footer-links a:hover {
            color: var(--accent-teal);
        }

        /* Responsive */
        @media (max-width: 640px) {
            header { padding: 0.75rem 1rem; }
            main { padding: 1.5rem 1rem; }
            .nav-links { display: none; }
            .chart-grid { grid-template-columns: 1fr; }
            .about-content { padding: 1.5rem; }
        }

        /* Language toggle */
        [data-lang="ja"] { display: none; }
        body.ja [data-lang="en"] { display: none; }
        body.ja [data-lang="ja"] { display: block; }
        span[data-lang="ja"], span[data-lang="en"] { display: inline; }
        body.ja span[data-lang="en"] { display: none; }
        body:not(.ja) span[data-lang="ja"] { display: none; }
    /* Dark mode support */
[data-theme="dark"] .six-card {
  background: #1e1e2e;
}
[data-theme="dark"] .six-card-title {
  color: #e0e0e0;
}
[data-theme="dark"] .six-card-desc {
  color: #a0a0a0;
}
@media (max-width: 900px) {
  .six-card-grid {
    grid-template-columns: repeat(2, 1fr);
  }
}
@media (max-width: 600px) {
  .six-card-grid {
    grid-template-columns: 1fr;
  }
}/* Six Card Section - Marine Identity */
/* Marine Monitor Section */
.marine-monitor {
    margin: 2.5rem 0;
}

.marine-monitor-header {
    display: flex;
    justify-content: flex-start;
    align-items: center;
    margin-bottom: 1rem;
}

.marine-monitor-title {
    font-size: 1.1rem;
    font-weight: 600;
    color: var(--text-primary);
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.marine-monitor-update {
    font-size: 0.75rem;
    color: var(--text-muted);
}

.marine-summary-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 0.75rem;
    margin-bottom: 1rem;
}

.marine-summary-card {
    background: var(--bg-card);
    border: 1px solid var(--border);
    border-radius: 8px;
    padding: 1rem;
    cursor: pointer;
    transition: all 0.2s;
}

.marine-summary-card:hover {
    border-color: var(--accent-teal);
    box-shadow: 0 2px 8px rgba(0,0,0,0.08);
}

.marine-summary-card.expanded {
    border-color: var(--accent-teal);
}

.marine-card-header {
    display: flex;
    justify-content: flex-start;
    align-items: center;
    margin-bottom: 0.5rem;
}

.marine-location {
    font-weight: 600;
    font-size: 0.95rem;
}

.marine-status {
    display: flex;
    align-items: center;
    gap: 0.25rem;
    font-size: 0.8rem;
}

.status-dot {
    width: 8px;
    height: 8px;
    border-radius: 50%;
}

.status-dot.good { background: #5a9a7a; }
.status-dot.caution { background: #ecc94b; }
.status-dot.warning { background: #f56565; }

.marine-summary-row {
    display: flex;
    gap: 1rem;
    font-size: 0.75rem;
    color: var(--text-secondary);
    flex-wrap: wrap;
}

.marine-summary-item {
    display: flex;
    align-items: center;
    gap: 0.25rem;
}

.marine-summary-item .label {
    color: var(--text-muted);
}

.marine-summary-item .value {
    font-weight: 500;
    color: var(--text-primary);
}

.marine-expand-icon {
    font-size: 0.7rem;
    color: var(--text-muted);
    transition: transform 0.2s;
}

.marine-summary-card.expanded .marine-expand-icon {
    transform: rotate(180deg);
}

.marine-detail {
    display: none;
    margin-top: 1rem;
    border-top: 1px solid var(--border);
    padding-top: 1rem;
}

.marine-summary-card.expanded .marine-detail {
    display: block;
}

.marine-day-group {
    margin-bottom: 1rem;
}

.marine-day-header {
    font-weight: 600;
    font-size: 0.75rem;
    color: var(--text-primary);
    margin-bottom: 0.5rem;
    padding: 0.25rem 0.5rem;
    background: var(--bg-secondary);
    border-radius: 4px;
}

.marine-table {
    width: 100%;
    font-size: 0.75rem;
    border-collapse: collapse;
}

.marine-table th {
    text-align: left;
    color: var(--text-muted);
    font-weight: 500;
    padding: 0.25rem 0.5rem;
    border-bottom: 1px solid var(--border);
}

.marine-table td {
    padding: 0.25rem 0.5rem;
    border-bottom: 1px solid var(--border);
}

.marine-table tr:last-child td {
    border-bottom: none;
}

.wind-dir {
    display: inline-flex;
    align-items: center;
    gap: 0.25rem;
}

@media (max-width: 640px) {
    .marine-summary-grid {
        grid-template-columns: 1fr;
    }
    .marine-summary-row {
        gap: 0.5rem;
    }
    .marine-table {
        font-size: 0.7rem;
    }
}


/* ========================================
   DIVER PAGE ENHANCEMENTS
   ======================================== */

/* Gear Guide Section */
.gear-guide {
    background: var(--bg-card);
    border: 1px solid var(--border);
    border-radius: 12px;
    padding: 1.25rem;
    margin-bottom: 1.5rem;
}

.gear-guide-header {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    margin-bottom: 1rem;
}

.gear-guide-header h3 {
    font-size: 1rem;
    font-weight: 600;
    color: var(--text-primary);
    margin: 0;
}

.gear-guide-icon {
    font-size: 1.25rem;
}

.gear-guide-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 1rem;
}

.gear-location {
    padding: 0.75rem;
    background: var(--bg-secondary);
    border-radius: 8px;
}

.gear-location-name {
    font-weight: 600;
    font-size: 0.85rem;
    color: var(--text-primary);
    margin-bottom: 0.5rem;
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.gear-location-temp {
    font-size: 0.9rem;
    color: var(--accent-teal);
    font-weight: 500;
}

.gear-recommendation {
    font-size: 0.8rem;
    color: var(--text-secondary);
    line-height: 1.5;
}

.gear-recommendation strong {
    color: var(--text-primary);
    font-weight: 600;
}

/* Condition Bar */
.condition-bar-section {
    margin-bottom: 1.5rem;
}

.condition-card {
    background: var(--bg-card);
    border: 1px solid var(--border);
    border-radius: 12px;
    padding: 1.25rem;
    margin-bottom: 0.75rem;
}

.condition-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 0.75rem;
}

.condition-location {
    font-weight: 600;
    font-size: 0.95rem;
    color: var(--text-primary);
}

.condition-status {
    display: flex;
    align-items: center;
    gap: 0.35rem;
    font-size: 0.8rem;
    font-weight: 500;
}

.condition-bar-container {
    height: 8px;
    background: #e2e8f0;
    border-radius: 4px;
    overflow: hidden;
    margin-bottom: 0.75rem;
}

.condition-bar {
    height: 100%;
    border-radius: 4px;
    transition: width 0.5s ease;
}

.condition-bar.good {
    background: linear-gradient(90deg, #48bb78, #68d391);
}

.condition-bar.caution {
    background: linear-gradient(90deg, #ecc94b, #f6e05e);
}

.condition-bar.warning {
    background: linear-gradient(90deg, #f56565, #fc8181);
}

.condition-summary {
    display: flex;
    gap: 1rem;
    font-size: 0.75rem;
    color: var(--text-secondary);
    flex-wrap: wrap;
}

.condition-item {
    display: flex;
    align-items: center;
    gap: 0.25rem;
}

.condition-item .label {
    color: var(--text-muted);
}

.condition-item .value {
    font-weight: 500;
    color: var(--text-primary);
}

.condition-advice {
    margin-top: 0.75rem;
    padding: 0.5rem 0.75rem;
    background: rgba(43, 108, 176, 0.08);
    border-radius: 6px;
    font-size: 0.75rem;
    color: var(--text-secondary);
    display: flex;
    align-items: flex-start;
    gap: 0.5rem;
}

.condition-advice-icon {
    flex-shrink: 0;
}

/* Coral Stress Section */
.coral-stress-section {
    background: var(--bg-card);
    border: 1px solid var(--border);
    border-radius: 12px;
    padding: 1.25rem;
    margin-bottom: 1.5rem;
}

.coral-stress-header {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    margin-bottom: 1rem;
}

.coral-stress-header h3 {
    font-size: 1rem;
    font-weight: 600;
    color: var(--text-primary);
    margin: 0;
}

.coral-stress-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 1rem;
    margin-bottom: 1rem;
}

.coral-stress-card {
    padding: 0.75rem;
    background: var(--bg-secondary);
    border-radius: 8px;
}

.coral-stress-location {
    font-weight: 600;
    font-size: 0.85rem;
    color: var(--text-primary);
    margin-bottom: 0.5rem;
}

.coral-stress-dhw {
    font-size: 1.25rem;
    font-weight: 600;
    margin-bottom: 0.25rem;
}

.coral-stress-dhw.safe { color: #5a9a7a; }
.coral-stress-dhw.watch { color: #c4a35a; }
.coral-stress-dhw.warning { color: #e8784b; }
.coral-stress-dhw.alert { color: #c05353; }

.coral-stress-label {
    font-size: 0.7rem;
    color: var(--text-muted);
}

.coral-stress-status {
    margin-top: 0.5rem;
    padding: 0.35rem 0.5rem;
    border-radius: 4px;
    font-size: 0.7rem;
    font-weight: 500;
    display: inline-block;
}

.coral-stress-status.safe {
    background: rgba(90, 154, 122, 0.15);
    color: #2f855a;
}

.coral-stress-status.watch {
    background: rgba(196, 163, 90, 0.15);
    color: #975a16;
}

.coral-stress-status.warning {
    background: rgba(232, 120, 75, 0.15);
    color: #c05621;
}

.coral-stress-status.alert {
    background: rgba(192, 83, 83, 0.15);
    color: #a65d5d;
}

/* Coral stress card improvements */
.coral-stress-row {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-top: 0.5rem;
}
.coral-stress-metric {
    display: flex;
    flex-direction: column;
    align-items: center;
}
.coral-stress-value {
    font-size: 1.1rem;
    font-weight: 600;
    color: var(--text-primary);
}
.coral-stress-value.warm {
    color: #e74c3c;
}
.coral-stress-label {
    font-size: 0.75rem;
    color: var(--text-muted);
}

.coral-stress-footer {
    padding-top: 0.75rem;
    border-top: 1px solid var(--border);
    font-size: 0.75rem;
    color: var(--text-secondary);
}

.coral-stress-link {
    color: var(--accent-teal);
    text-decoration: none;
    font-weight: 500;
}

.coral-stress-link:hover {
    text-decoration: underline;
}

/* Responsive for new sections */
@media (max-width: 640px) {
    .gear-guide-grid,
    .coral-stress-grid {
        grid-template-columns: 1fr;
    }
    
    .condition-summary {
        gap: 0.5rem;
    }
}

.six-card-section {
  padding: 2rem;
  max-width: 1400px;
  margin: 0 auto;
}
.six-card-grid {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 1.5rem;
}
.six-card {
  background: #ffffff;
  border-radius: 12px;
  padding: 0;
  box-shadow: 0 4px 20px rgba(0, 122, 108, 0.08);
  overflow: hidden;
  display: flex;
  flex-direction: column;
  position: relative;
  transition: transform 0.3s, box-shadow 0.3s;
}
.six-card:hover {
  transform: translateY(-4px);
  box-shadow: 0 8px 30px rgba(0, 122, 108, 0.15);
}
.six-card::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 4px;
  background: linear-gradient(90deg, #5b9a94, #3d7a73);
  z-index: 10;
}
.six-card.status-warning::before {
  background: linear-gradient(90deg, #c4a35a, #b8956a);
}
.six-card.status-alert::before {
  background: linear-gradient(90deg, #a65d5d, #8b5a5a);
  animation: pulse-alert 2s ease-in-out infinite;
}
@keyframes pulse-alert {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.6; }
}
.six-card-badge {
  position: absolute;
  top: 12px;
  right: 12px;
  padding: 4px 10px;
  border-radius: 12px;
  font-size: 0.7rem;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  z-index: 20;
}
.badge-safe {
  background: rgba(78, 205, 196, 0.15);
  color: #3d7a73;
}
.badge-watch {
  background: rgba(249, 168, 37, 0.15);
  color: #f57c00;
}
.badge-alert {
  background: rgba(231, 76, 60, 0.15);
  color: #8b5a5a;
}
.six-card-chart {
  width: 100%;
  height: 180px;
  background: linear-gradient(180deg, rgba(78, 205, 196, 0.05) 0%, rgba(0, 122, 108, 0.1) 100%);
  position: relative;
  padding: 1rem;
  box-sizing: border-box;
}
.six-card-wave {
  position: absolute;
  bottom: 0;
  left: 0;
  width: 100%;
  height: 20px;
  overflow: hidden;
}
.six-card-wave svg {
  position: absolute;
  bottom: 0;
  width: 100%;
  height: 20px;
}
.six-card-chart canvas {
  width: 100% !important;
  height: calc(100% - 10px) !important;
}
.six-card-body {
  padding: 1.25rem;
  flex: 1;
  display: flex;
  flex-direction: column;
  background: linear-gradient(180deg, #fff 0%, rgba(78, 205, 196, 0.02) 100%);
}
.six-card-title {
  font-size: 1.25rem;
  font-weight: 600;
  color: #1a1a2e;
  margin-bottom: 0.5rem;
  line-height: 1.3;
}
.six-card-location {
  display: flex;
  align-items: center;
  gap: 6px;
  font-size: 0.8rem;
  color: #3d7a73;
  margin-bottom: 0.5rem;
}
.six-card-location svg {
  width: 14px;
  height: 14px;
  fill: #3d7a73;
}
.six-card-latest {
  font-size: 1.1rem;
  color: #1a1a2e;
  font-weight: 700;
  margin-bottom: 0.5rem;
}
.six-card-latest .trend-up {
  color: #a65d5d;
  font-size: 0.75rem;
}
.six-card-latest .trend-down {
  color: #4a8a6a;
  font-size: 0.75rem;
}
.six-card-desc {
  font-size: 0.75rem;
  color: #666;
  line-height: 1.6;
  margin-bottom: 1rem;
  flex: 1;
}
.six-card-btn {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  padding: 0.6rem 1.25rem;
  background: linear-gradient(135deg, #3d7a73, #2d5f5a);
  color: #fff;
  border-radius: 6px;
  text-decoration: none;
  font-size: 0.75rem;
  font-weight: 500;
  transition: all 0.2s;
  align-self: flex-start;
}
.six-card-btn:hover {
  background: linear-gradient(135deg, #2d5f5a, #1d4a45);
  gap: 12px;
}
.six-card-btn svg {
  width: 14px;
  height: 14px;
  fill: currentColor;
  transition: transform 0.2s;
}
.six-card-btn:hover svg {
  transform: translateX(2px);
}
.six-card.coming-soon {
  opacity: 0.6;
}
.six-card.coming-soon::before {
  background: linear-gradient(90deg, #bdc3c7, #95a5a6);
}
.six-card.coming-soon .six-card-chart {
  display: flex;
  align-items: center;
  justify-content: center;
  background: linear-gradient(180deg, #f5f5f5 0%, #e0e0e0 100%);
}
.six-card.coming-soon .coming-soon-label {
  font-size: 0.75rem;
  color: #95a5a6;
  font-weight: 600;
  letter-spacing: 1px;
}
.six-card.coming-soon .six-card-body {
  background: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 60' opacity='0.03'%3E%3Cpath fill='%23007a6c' d='M20 60 Q25 40 20 30 Q15 20 25 10 M30 60 Q35 45 30 35 Q25 25 35 15 M45 60 Q50 50 45 40 Q40 30 50 20 M55 60 Q60 48 55 38 Q50 28 60 18 M70 60 Q75 42 70 32 Q65 22 75 12 M80 60 Q85 52 80 42 Q75 32 85 22'/%3E%3C/svg%3E") center bottom no-repeat;
  background-size: 80% auto;
}
[data-theme="dark"] .six-card {
  background: #1e1e2e;
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
}
[data-theme="dark"] .six-card-chart {
  background: linear-gradient(180deg, rgba(78, 205, 196, 0.08) 0%, rgba(0, 122, 108, 0.15) 100%);
}
[data-theme="dark"] .six-card-body {
  background: linear-gradient(180deg, #1e1e2e 0%, rgba(78, 205, 196, 0.03) 100%);
}
[data-theme="dark"] .six-card-title {
  color: #e0e0e0;
}
[data-theme="dark"] .six-card-latest {
  color: #fff;
}
[data-theme="dark"] .six-card-desc {
  color: #a0a0a0;
}
[data-theme="dark"] .six-card-location {
  color: #5b9a94;
}
[data-theme="dark"] .six-card-location svg {
  fill: #5b9a94;
}
[data-theme="dark"] .badge-safe {
  background: rgba(78, 205, 196, 0.2);
  color: #5b9a94;
}
[data-theme="dark"] .six-card-wave svg path {
  fill: #1e1e2e;
}
@media (max-width: 1100px) {
  .six-card-grid {
    grid-template-columns: repeat(2, 1fr);
  }
}
@media (max-width: 700px) {
  .six-card-grid {
    grid-template-columns: 1fr;
  }
}


/* Dark mode */
[data-theme="dark"] .six-card {
  background: #1e1e2e;
}
[data-theme="dark"] .six-card-chart {
  background: linear-gradient(135deg, #2a2a3e 0%, #1e1e2e 100%);
}
[data-theme="dark"] .six-card-title {
  color: #e0e0e0;
}
[data-theme="dark"] .six-card-latest {
  color: #5b9a94;
}
[data-theme="dark"] .six-card-desc {
  color: #a0a0a0;
}
@media (max-width: 1100px) {
  .six-card-grid {
    grid-template-columns: repeat(2, 1fr);
  }
}
@media (max-width: 700px) {
  .six-card-grid {
    grid-template-columns: 1fr;
  }
}


/* Hero Impact Version */
.hero-impact {
    min-height: 100vh;
    display: flex;
    flex-direction: column;
    justify-content: flex-start;
    align-items: center;
    text-align: center;
    background: linear-gradient(
        180deg,
        rgba(26, 32, 46, 0.7) 0%,
        rgba(26, 32, 46, 0.5) 50%,
        rgba(26, 32, 46, 0.7) 100%
    ), url('hero.jpg');
    background-size: cover;
    background-position: center;
    padding: 2rem;
}

.hero-spacer {
    height: 25vh;
}

.hero-body {
    display: flex;
    flex-direction: column;
    align-items: center;
    max-width: 900px;
}

.hero-footer {
    margin-top: auto;
    display: flex;
    gap: 1rem;
    flex-wrap: wrap;
    justify-content: flex-end;
    padding-bottom: 2vh;
    padding-right: 3vw;
    width: 100%;
}

.hero-tagline {
    font-size: 3.8rem;
    font-weight: 700;
    letter-spacing: -0.02em;
    line-height: 1.3;
    color: #ffffff;
    text-shadow: 0 2px 20px rgba(0,0,0,0.5);
    margin-bottom: 2rem;
}

body.ja .hero-tagline {
    font-size: 2.4rem;
    letter-spacing: 0.05em;
    line-height: 1.5;
}

.hero-tagline-sub {
    display: block;
    margin-top: 0.75rem;
    font-weight: 500;
    color: rgba(255, 255, 255, 0.85);
    font-style: italic;
}

body.ja .hero-tagline-sub {
    font-style: normal;
    font-weight: 400;
    letter-spacing: 0.1em;
}



.hero-btn {
    padding: 0.5rem 1.2rem;
    border-radius: 6px;
    font-size: 0.75rem;
    font-weight: 600;
    text-decoration: none;
    transition: all 0.3s ease;
    min-width: 150px;
    text-align: center;
}

.hero-btn-primary {
    background: #ffffff;
    color: #1a202c;
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.25);
}

.hero-btn-primary:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 30px rgba(0, 0, 0, 0.3);
    background: #f0f0f0;
}

.hero-btn-secondary {
    background: transparent;
    color: rgba(255, 255, 255, 0.8);
    border: none;
    font-weight: 500;
    text-decoration: underline;
    text-underline-offset: 4px;
    min-width: auto;
    padding: 0.75rem 1rem;
}

.hero-btn-secondary:hover {
    color: #ffffff;
}

@media (max-width: 768px) {
    .hero-btn {
        font-size: 0.7rem;
        padding: 0.4rem 1rem;
        min-width: 120px;
    }
    .hero-btn-secondary {
        font-size: 0.65rem;
    }
    .hero-footer {
    margin-top: auto;
        justify-content: center;
        padding-right: 0;
        padding-bottom: 2vh; margin-bottom: -8vh;
    }
    .hero-tagline {
        font-size: 2rem;
    }
    body.ja .hero-tagline {
        font-size: 1.75rem;
    }
    .hero-btn {
        min-width: 180px;
        padding: 0.875rem 2rem;
        font-size: 0.95rem;
    }
    .hero-btn-secondary {
        min-width: auto;
    }
    .hero-cta-buttons {
        flex-direction: column;
        align-items: center;
        gap: 0.75rem;
    }
}


/* Data Sources Section - Enhanced */
.data-sources-section {
    background: var(--bg-card);
    border: 1px solid var(--border);
    border-radius: 8px;
    padding: 1.5rem;
    box-shadow: var(--shadow);
}

.data-sources-section .section-title {
    font-size: 0.9rem;
    font-weight: 600;
    margin-bottom: 1.25rem;
    color: var(--text-primary);
}

.source-category {
    margin-bottom: 1.25rem;
}

.source-category:last-child {
    margin-bottom: 0;
}

.source-category-header {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    font-size: 0.8rem;
    font-weight: 600;
    color: var(--text-secondary);
    margin-bottom: 0.75rem;
    padding-bottom: 0.5rem;
    border-bottom: 1px solid var(--border);
}

.source-category-icon {
    font-size: 1rem;
}

.source-item-enhanced {
    padding: 0.75rem;
    margin-bottom: 0.5rem;
    background: var(--bg-secondary);
    border-radius: 6px;
}

.source-item-enhanced:last-child {
    margin-bottom: 0;
}

.source-main {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 0.35rem;
}

.source-name-link {
    color: var(--accent-teal);
    text-decoration: none;
    font-weight: 500;
    font-size: 0.85rem;
}

.source-name-link:hover {
    text-decoration: underline;
}

.source-name-text {
    font-weight: 500;
    font-size: 0.85rem;
    color: var(--text-primary);
}

.source-desc {
    font-size: 0.75rem;
    color: var(--text-muted);
    line-height: 1.5;
}

.source-update {
    font-size: 0.7rem;
    color: var(--text-muted);
    margin-top: 0.35rem;
    font-style: italic;
}

.source-badge.planning {
    background: #e2e8f0;
    color: #4a5568;
}

</style>

  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <header>
        <div class="header-content">
            <a href="#" class="logo" data-nav="home">
                <div class="logo-icon"><img src="logo.png" alt="marine-obs logo" style="width: 100%; height: 100%; object-fit: cover;"></div>
                <span>marine-obs.org</span>
            </a>
            <ul class="nav-links">
                <li>
                    <a href="#" data-nav="home" class="active">
                        <span data-lang="en">Dashboard</span>
                        <span data-lang="ja">„ÉÄ„ÉÉ„Ç∑„É•„Éú„Éº„Éâ</span>
                    </a>
                </li>
                <li>
                    <a href="#" data-nav="about">
                        <span data-lang="en">About</span>
                        <span data-lang="ja">„Åì„ÅÆ„Çµ„Ç§„Éà„Å´„Å§„ÅÑ„Å¶</span>
                    </a>
                </li>
                <li>
                    <a href="#" data-nav="divers">
                        <span data-lang="en">For Divers</span>
                        <span data-lang="ja">„ÉÄ„Ç§„Éê„ÉºÂêë„Åë</span>
                    </a>
                </li>
                <li>
                    <a href="#" data-nav="glossary">
                        <span data-lang="en">Glossary</span>
                        <span data-lang="ja">Áî®Ë™ûËß£Ë™¨</span>
                    </a>
                </li>
            </ul>
            <div class="header-controls">
                <div class="lang-switch">
                    <button id="lang-en" class="active">English</button>
                    <span style="color:rgba(255,255,255,0.4)">/</span>
                    <button id="lang-ja">Êó•Êú¨Ë™û</button>
                </div>
            </div>
        </div>
    </header>

    <main>
        <!-- HOME / DASHBOARD -->
        <section class="page-section active" id="page-home">
            <!-- Hero Visual - Impact Version -->
            <section class="hero-visual hero-impact">
                <div class="hero-spacer"></div>
                
                <div class="hero-body">
                    <h1 class="hero-tagline" data-lang="en">Coral cannot speak.<span class="hero-tagline-sub">So we dive.</span></h1>
                    <h1 class="hero-tagline" data-lang="ja">„Çµ„É≥„Ç¥„ÅØÂ£∞„ÇíÂá∫„Åõ„Å™„ÅÑ„ÄÇ<span class="hero-tagline-sub">„Å†„Åã„ÇâÁßÅ„Åü„Å°„ÅåÊΩú„Çã„ÄÇ</span></h1>
                </div>
                
                <div class="hero-footer">
                    <a href="#" class="hero-btn hero-btn-primary" onclick="showPage('divers'); return false;">
                        <span data-lang="en">For Divers</span>
                        <span data-lang="ja">„ÉÄ„Ç§„Éê„ÉºÂêë„ÅëÊÉÖÂ†±</span>
                    </a>
                    <a href="#" class="hero-btn hero-btn-secondary" onclick="showPage('about'); return false;">
                        <span data-lang="en">About This Project</span>
                        <span data-lang="ja">„Åì„ÅÆ„Éó„É≠„Ç∏„Çß„ÇØ„Éà„Å´„Å§„ÅÑ„Å¶</span>
                    </a>
                </div>
            </section>

<!-- Six Card Section - Marine Identity -->
<section class="six-card-section">
  <div class="six-card-grid">
    <!-- Card 1: SSTÔºàÊµ∑Ê∞¥Ê∏©Ôºâ- 3Âú∞ÁÇπ -->
    <div class="six-card status-warning">
      <span class="six-card-badge badge-watch">
        <span data-lang="en">Watch</span>
        <span data-lang="ja">Ê≥®ÊÑè</span>
      </span>
      <div class="six-card-chart">
        <canvas id="chart-sst-compare"></canvas>
        <div class="six-card-wave">
          <svg viewBox="0 0 1200 20" preserveAspectRatio="none">
            <path d="M0,10 Q150,0 300,10 T600,10 T900,10 T1200,10 L1200,20 L0,20 Z" fill="#ffffff"/>
          </svg>
        </div>
      </div>
      <div class="six-card-body">
        <div class="six-card-title">
          <span data-lang="en">Sea Surface Temperature</span>
          <span data-lang="ja">Êµ∑Ê∞¥Ê∏© (SST)</span>
        </div>
        <div class="six-card-location">
          <svg viewBox="0 0 24 24"><path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"/></svg>
          <span data-lang="en">Sesoko ¬∑ Manza ¬∑ Ogasawara</span>
          <span data-lang="ja">ÁÄ¨Â∫ï„Éª‰∏áÂ∫ß„ÉªÂ∞èÁ¨†Âéü</span>
        </div>
        <div class="six-card-latest">
          <span data-lang="en">Latest: 23.6 / 23.6 / 23.4¬∞C</span>
          <span data-lang="ja">ÊúÄÊñ∞: 23.6 / 23.6 / 23.4¬∞C</span>
        </div>
        <div class="six-card-desc">
          <span data-lang="en">Monthly climatology comparison. Okinawa peaks in August, Ogasawara in September.</span>
          <span data-lang="ja">ÊúàÂà•Ê∞óÂÄôÂÄ§„ÅÆÊØîËºÉ„ÄÇÊ≤ñÁ∏Ñ„ÅØ8Êúà„ÄÅÂ∞èÁ¨†Âéü„ÅØ9Êúà„Å´„Éî„Éº„ÇØ„ÄÇ</span>
        </div>
        <a href="sst.html" class="six-card-btn">
          <span data-lang="en">Explore data</span>
          <span data-lang="ja">„Éá„Éº„Çø„ÇíË¶ã„Çã</span>
          <svg viewBox="0 0 24 24"><path d="M12 4l-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"/></svg>
        </a>
      </div>
    </div>

    <!-- Card 2: Ê•µÁ´ØÊó•Êï∞ - 3Âú∞ÁÇπ -->
    <div class="six-card status-warning">
      <span class="six-card-badge badge-watch">
        <span data-lang="en">Watch</span>
        <span data-lang="ja">Ê≥®ÊÑè</span>
      </span>
      <div class="six-card-chart">
        <canvas id="extremeChartMini"></canvas>
        <div class="six-card-wave">
          <svg viewBox="0 0 1200 20" preserveAspectRatio="none">
            <path d="M0,10 Q150,0 300,10 T600,10 T900,10 T1200,10 L1200,20 L0,20 Z" fill="#ffffff"/>
          </svg>
        </div>
      </div>
      <div class="six-card-body">
        <div class="six-card-title">
          <span data-lang="en">Extreme Temperature Days</span>
          <span data-lang="ja">Ê•µÁ´ØÊ∞¥Ê∏©Êó•Êï∞</span>
        </div>
        <div class="six-card-location">
          <svg viewBox="0 0 24 24"><path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"/></svg>
          <span data-lang="en">Sesoko ¬∑ Manza ¬∑ Ogasawara</span>
          <span data-lang="ja">ÁÄ¨Â∫ï„Éª‰∏áÂ∫ß„ÉªÂ∞èÁ¨†Âéü</span>
        </div>
        <div class="six-card-latest">
          <span data-lang="en">2025: üî• 4/14/4 hot ¬∑ ‚ùÑÔ∏è 0/0/49 cold</span>
          <span data-lang="ja">2025Âπ¥: üî• 4/14/4 È´òÊ∏© ¬∑ ‚ùÑÔ∏è 0/0/49 ‰ΩéÊ∏©</span>
        </div>
        <div class="six-card-desc">
          <span data-lang="en">Ogasawara: 49 cold days‚Äîpotential cold stress risk. Both heat and cold threaten corals.</span>
          <span data-lang="ja">Â∞èÁ¨†Âéü49Êó•„ÅÆ‰ΩéÊ∏©‚Äî‰ΩéÊ∏©„Çπ„Éà„É¨„Çπ„É™„Çπ„ÇØ„ÅÇ„Çä„ÄÇÈ´òÊ∏©„ÇÇ‰ΩéÊ∏©„ÇÇ„Çµ„É≥„Ç¥„ÅÆËÑÖÂ®Å„Å´„ÄÇ</span>
        </div>
        <a href="extreme.html" class="six-card-btn">
          <span data-lang="en">Explore data</span>
          <span data-lang="ja">„Éá„Éº„Çø„ÇíË¶ã„Çã</span>
          <svg viewBox="0 0 24 24"><path d="M12 4l-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"/></svg>
        </a>
      </div>
    </div>

    <!-- Card 3: DHWÔºàÁ©çÁÆóÁÜ±„Çπ„Éà„É¨„ÇπÔºâ- 3Âú∞ÁÇπ -->
    <div class="six-card status-alert">
      <span class="six-card-badge badge-alert">
        <span data-lang="en">Alert</span>
        <span data-lang="ja">Ë≠¶Â†±</span>
      </span>
      <div class="six-card-chart">
        <canvas id="chart-dhw-trend"></canvas>
        <div class="six-card-wave">
          <svg viewBox="0 0 1200 20" preserveAspectRatio="none">
            <path d="M0,10 Q150,0 300,10 T600,10 T900,10 T1200,10 L1200,20 L0,20 Z" fill="#ffffff"/>
          </svg>
        </div>
      </div>
      <div class="six-card-body">
        <div class="six-card-title">
          <span data-lang="en">Degree Heating Weeks</span>
          <span data-lang="ja">Á©çÁÆóÁÜ±„Çπ„Éà„É¨„Çπ (DHW)</span>
        </div>
        <div class="six-card-location">
          <svg viewBox="0 0 24 24"><path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"/></svg>
          <span data-lang="en">Sesoko ¬∑ Manza ¬∑ Ogasawara</span>
          <span data-lang="ja">ÁÄ¨Â∫ï„Éª‰∏áÂ∫ß„ÉªÂ∞èÁ¨†Âéü</span>
        </div>
        <div class="six-card-latest">
          <span data-lang="en">2025 Peak: 0.6 / 2.2 / 2.8</span>
          <span data-lang="ja">2025Âπ¥„Éî„Éº„ÇØ: 0.6 / 2.2 / 2.8</span>
        </div>
        <div class="six-card-desc">
          <span data-lang="en">Manza exceeded Watch Level (DHW 4). Annual peak comparison across 3 sites.</span>
          <span data-lang="ja">‰∏áÂ∫ß„ÅåÊ≥®ÊÑè„É¨„Éô„É´ÔºàDHW 4Ôºâ„ÇíË∂ÖÈÅé„ÄÇ3Âú∞ÁÇπ„ÅÆÂπ¥Âà•„Éî„Éº„ÇØ„ÇíÊØîËºÉ„ÄÇ</span>
        </div>
        <a href="dhw.html" class="six-card-btn">
          <span data-lang="en">Explore data</span>
          <span data-lang="ja">„Éá„Éº„Çø„ÇíË¶ã„Çã</span>
          <svg viewBox="0 0 24 24"><path d="M12 4l-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"/></svg>
        </a>
      </div>
    </div>

    <!-- Card 4: Á®ÆÂà•ËÑÜÂº±ÊÄß (Coming Soon) -->
    <div class="six-card coming-soon">
      <div class="six-card-chart">
        <span class="coming-soon-label">COMING SOON</span>
      </div>
      <div class="six-card-body">
        <div class="six-card-title">
          <span data-lang="en">Species Vulnerability</span>
          <span data-lang="ja">Á®ÆÂà•ËÑÜÂº±ÊÄß</span>
        </div>
        <div class="six-card-location">
          <svg viewBox="0 0 24 24"><path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"/></svg>
          <span data-lang="en">Acropora ¬∑ Montipora ¬∑ Porites</span>
          <span data-lang="ja">„Éü„Éâ„É™„Ç§„Ç∑„Éª„Ç≥„É¢„É≥„Çµ„É≥„Ç¥„Éª„Éè„Éû„Çµ„É≥„Ç¥</span>
        </div>
        <div class="six-card-desc">
          <span data-lang="en">Differential bleaching susceptibility by coral genus. Winners vs. losers framework.</span>
          <span data-lang="ja">„Çµ„É≥„Ç¥Â±û„Åî„Å®„ÅÆÁôΩÂåñÊÑüÂèóÊÄß„ÅÆÈÅï„ÅÑ„ÄÇÂãùËÄÖ„Å®ÊïóËÄÖ„ÅÆÊßãÈÄ†„ÄÇ</span>
        </div>
      </div>
    </div>

    <!-- Card 5: „É¢„Éã1000 (Coming Soon) -->
    <div class="six-card coming-soon">
      <div class="six-card-chart">
        <span class="coming-soon-label">COMING SOON</span>
      </div>
      <div class="six-card-body">
        <div class="six-card-title">
          <span data-lang="en">Monitoring Sites 1000</span>
          <span data-lang="ja">„É¢„Éã„Çø„É™„É≥„Ç∞„Çµ„Ç§„Éà1000</span>
        </div>
        <div class="six-card-location">
          <svg viewBox="0 0 24 24"><path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"/></svg>
          <span data-lang="en">Nationwide, Japan</span>
          <span data-lang="ja">ÂÖ®ÂõΩ</span>
        </div>
        <div class="six-card-desc">
          <span data-lang="en">Integration with Japan's national coral reef monitoring network (MOE).</span>
          <span data-lang="ja">Áí∞Â¢ÉÁúÅ„É¢„Éã„Çø„É™„É≥„Ç∞„Çµ„Ç§„Éà1000„Çµ„É≥„Ç¥Á§ÅË™øÊüª„Å®„ÅÆÈÄ£Êê∫„ÄÇ</span>
        </div>
      </div>
    </div>

    <!-- Card 6: ÊøÅÂ∫¶Ë¶≥Ê∏¨ (Coming Soon) -->
    <div class="six-card coming-soon">
      <div class="six-card-chart">
        <span class="coming-soon-label">COMING SOON</span>
      </div>
      <div class="six-card-body">
        <div class="six-card-title">
          <span data-lang="en">Turbidity Monitoring</span>
          <span data-lang="ja">ÊøÅÂ∫¶Ë¶≥Ê∏¨</span>
        </div>
        <div class="six-card-location">
          <svg viewBox="0 0 24 24"><path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"/></svg>
          <span data-lang="en">Okinawa coastal stations</span>
          <span data-lang="ja">Ê≤ñÁ∏ÑÊ≤øÂ≤∏Ë¶≥Ê∏¨ÁÇπ</span>
        </div>
        <div class="six-card-desc">
          <span data-lang="en">In-situ NTU measurements and satellite Kd(490) for sediment stress assessment.</span>
          <span data-lang="ja">ÂÆüÊ∏¨NTU„Å®Ë°õÊòüKd(490)„Å´„Çà„ÇãÂ†ÜÁ©çÁâ©„Çπ„Éà„É¨„ÇπË©ï‰æ°„ÄÇ</span>
        </div>
      </div>
    </div>
  </div>
</section>



            


            <!-- Data Sources Section - Enhanced -->
            <section class="data-sources-section">
                <h3 class="section-title">
                    <span data-lang="en">Data Sources</span>
                    <span data-lang="ja">„Éá„Éº„Çø„ÇΩ„Éº„Çπ</span>
                </h3>
                
                <!-- üõ∞Ô∏è Satellite Data -->
                <div class="source-category">
                    <div class="source-category-header">
                        <span class="source-category-icon">üõ∞Ô∏è</span>
                        <span data-lang="en">Satellite Data</span>
                        <span data-lang="ja">Ë°õÊòü„Éá„Éº„Çø</span>
                    </div>
                    <div class="source-item-enhanced">
                        <div class="source-main">
                            <a href="https://coralreefwatch.noaa.gov/" target="_blank" rel="noopener" class="source-name-link">NOAA Coral Reef Watch</a>
                            <span class="source-badge active"><span data-lang="en">Active</span><span data-lang="ja">ÈÅãÁî®‰∏≠</span></span>
                        </div>
                        <div class="source-desc">
                            <span data-lang="en">DHW calculation source. 5km resolution global coverage.</span>
                            <span data-lang="ja">DHWÔºàÁ©çÁÆóÁÜ±„Çπ„Éà„É¨„ÇπÔºâÁÆóÂá∫ÂÖÉ„ÄÇ5kmËß£ÂÉèÂ∫¶„Ç∞„É≠„Éº„Éê„É´„Ç´„Éê„É¨„ÉÉ„Ç∏„ÄÇ</span>
                        </div>
                    </div>
                    <div class="source-item-enhanced">
                        <div class="source-main">
                            <a href="https://podaac.jpl.nasa.gov/dataset/MUR-JPL-L4-GLOB-v4.1" target="_blank" rel="noopener" class="source-name-link">NASA MUR SST</a>
                            <span class="source-badge active"><span data-lang="en">Active</span><span data-lang="ja">ÈÅãÁî®‰∏≠</span></span>
                        </div>
                        <div class="source-desc">
                            <span data-lang="en">Daily SST. 1km high-resolution satellite data.</span>
                            <span data-lang="ja">Êó•Ê¨°Êµ∑Ê∞¥Ê∏©„ÄÇ1kmÈ´òËß£ÂÉèÂ∫¶Ë°õÊòü„Éá„Éº„Çø„ÄÇ</span>
                        </div>
                        <div class="source-update">
                            <span data-lang="en">Updated: Daily 10:00 JST</span>
                            <span data-lang="ja">Êõ¥Êñ∞: ÊØéÊó• 10:00 JST</span>
                        </div>
                    </div>
                </div>

                <!-- üåä Field Observation / Forecast -->
                <div class="source-category">
                    <div class="source-category-header">
                        <span class="source-category-icon">üåä</span>
                        <span data-lang="en">Field Observation / Forecast</span>
                        <span data-lang="ja">ÁèæÂú∞Ë¶≥Ê∏¨„Éª‰∫àÊ∏¨</span>
                    </div>
                    <div class="source-item-enhanced">
                        <div class="source-main">
                            <a href="https://stormglass.io/" target="_blank" rel="noopener" class="source-name-link">Stormglass</a>
                            <span class="source-badge active"><span data-lang="en">Active</span><span data-lang="ja">ÈÅãÁî®‰∏≠</span></span>
                        </div>
                        <div class="source-desc">
                            <span data-lang="en">Real-time marine forecast (wave, wind, swell, current).</span>
                            <span data-lang="ja">„É™„Ç¢„É´„Çø„Ç§„É†Êµ∑Ê≥Å‰∫àÂ†±ÔºàÊ≥¢È´ò„ÉªÈ¢®„Éª„ÅÜ„Å≠„Çä„ÉªÊΩÆÊµÅÔºâ„ÄÇ</span>
                        </div>
                        <div class="source-update">
                            <span data-lang="en">Updated: Every 3 hours</span>
                            <span data-lang="ja">Êõ¥Êñ∞: 3ÊôÇÈñì„Åî„Å®</span>
                        </div>
                    </div>
                    <div class="source-item-enhanced">
                        <div class="source-main">
                            <a href="https://www.biodic.go.jp/moni1000/findings/newsflash/reef.html" target="_blank" rel="noopener" class="source-name-link">
                                <span data-lang="en">Monitoring Sites 1000</span>
                                <span data-lang="ja">„É¢„Éã„Çø„É™„É≥„Ç∞„Çµ„Ç§„Éà1000</span>
                            </a>
                            <span class="source-badge pending"><span data-lang="en">Jan 2026</span><span data-lang="ja">2026Âπ¥1Êúà‰∫àÂÆö</span></span>
                        </div>
                        <div class="source-desc">
                            <span data-lang="en">MOE long-term coral reef monitoring. Awaiting data delivery.</span>
                            <span data-lang="ja">Áí∞Â¢ÉÁúÅÈï∑Êúü„Çµ„É≥„Ç¥Á§Å„É¢„Éã„Çø„É™„É≥„Ç∞„ÄÇ„Éá„Éº„ÇøÂèóÈ†òÂæÖ„Å°„ÄÇ</span>
                        </div>
                        <div class="source-update">
                            <span data-lang="en">Expected: January 2026</span>
                            <span data-lang="ja">‰∫àÂÆö: 2026Âπ¥1Êúà</span>
                        </div>
                    </div>
                </div>

                <!-- üî¨ Planning -->
                <div class="source-category">
                    <div class="source-category-header">
                        <span class="source-category-icon">üî¨</span>
                        <span data-lang="en">Planning</span>
                        <span data-lang="ja">Ê§úË®é‰∏≠</span>
                    </div>
                    <div class="source-item-enhanced">
                        <div class="source-main">
                            <span class="source-name-text">
                                <span data-lang="en">Turbidity Logger</span>
                                <span data-lang="ja">ÊøÅÂ∫¶Ë®à</span>
                            </span>
                            <span class="source-badge planning"><span data-lang="en">TBD</span><span data-lang="ja">Ê§úË®é‰∏≠</span></span>
                        </div>
                        <div class="source-desc">
                            <span data-lang="en">Considering local turbidity measurement for sediment stress assessment.</span>
                            <span data-lang="ja">Â†ÜÁ©çÁâ©„Çπ„Éà„É¨„ÇπË©ï‰æ°„ÅÆ„Åü„ÇÅ„É≠„Éº„Ç´„É´ÊøÅÂ∫¶Ê∏¨ÂÆö„ÅÆÂ∞éÂÖ•„ÇíÊ§úË®é‰∏≠„ÄÇ</span>
                        </div>
                    </div>
                </div>
            </section>
        </section>

        <!-- DIVERS PAGE -->
        <section class="page-section" id="page-divers">
            <section class="hero">
                <h1 data-lang="en">For Divers</h1>
                <h1 data-lang="ja">„ÉÄ„Ç§„Éê„ÉºÂêë„ÅëÊÉÖÂ†±</h1>
                <p class="hero-subtitle" data-lang="en">
                    Sea conditions, observations, and resources for divers.
                </p>
                <p class="hero-subtitle" data-lang="ja">
                    Êµ∑Ê≥ÅÊÉÖÂ†±„ÄÅË¶≥ÂØüÂ†±Âëä„ÄÅ„ÉÄ„Ç§„Éê„Éº„ÅÆ„Åü„ÇÅ„ÅÆ„É™„ÇΩ„Éº„Çπ„ÄÇ
                </p>
            </section>

            <!-- Marine Monitor Section -->
            <section class="marine-monitor">
                <div class="marine-monitor-header">
                    <h2 class="marine-monitor-title">
                        <span data-lang="en">Marine Conditions</span><span data-lang="ja">Êµ∑Ê≥Å„É¢„Éã„Çø„Éº</span>
                    </h2>
                    <span class="marine-monitor-update" id="marine-update-time-divers"></span>
                </div>
                <div class="marine-summary-grid" id="marine-grid-divers">
                    <div style="color: var(--text-muted); padding: 2rem; text-align: center;">
                        <span data-lang="en">Loading...</span><span data-lang="ja">Ë™≠„ÅøËæº„Åø‰∏≠...</span>
                    </div>
                </div>
            </section>


            <!-- Coral Stress Section -->
            <section class="coral-stress-section" id="coral-stress-section">
                <div class="coral-stress-header">
                    <span class="gear-guide-icon">ü™∏</span>
                    <h3>
                        <span data-lang="en">Coral Thermal Stress</span>
                        <span data-lang="ja">„Çµ„É≥„Ç¥ÁÜ±„Çπ„Éà„É¨„ÇπÁä∂Ê≥Å</span>
                    </h3>
                </div>
                <div class="coral-stress-grid" id="coral-stress-grid">
                    <!-- Populated by JavaScript -->
                </div>
                <div class="coral-stress-footer">
                    <span data-lang="en">
                        Dive with corals in mind. 
                        <a href="#" onclick="showPage('dhw'); return false;" class="coral-stress-link">Learn more about thermal stress ‚Üí</a>
                    </span>
                    <span data-lang="ja">
                        „Çµ„É≥„Ç¥„ÇíÊÑèË≠ò„Åó„Å™„Åå„ÇâÊΩú„Çç„ÅÜ„ÄÇ
                        <a href="#" onclick="showPage('dhw'); return false;" class="coral-stress-link">ÁÜ±„Çπ„Éà„É¨„Çπ„Å´„Å§„ÅÑ„Å¶Ë©≥„Åó„Åè ‚Üí</a>
                    </span>
                </div>
            </section>

            <!-- Gear Guide Section -->
            <section class="gear-guide" id="gear-guide-section">
                <div class="gear-guide-header">
                    <span class="gear-guide-icon">üß§</span>
                    <h3>
                        <span data-lang="en">Gear Recommendation</span>
                        <span data-lang="ja">Ë£ÖÂÇô„Ç¨„Ç§„Éâ</span>
                    </h3>
                </div>
                <div class="gear-guide-grid" id="gear-guide-grid">
                    <!-- Populated by JavaScript -->
                </div>
            </section>

            <!-- Future: Observation Report Form -->
            <section class="info-card" style="margin-top: 2rem;">
                <h3>
                    <span data-lang="en">Report Your Observation</span>
                    <span data-lang="ja">Ë¶≥ÂØü„ÇíÂ†±Âëä„Åô„Çã</span>
                </h3>
                <p data-lang="en">Coming soon: Share what you see underwater‚Äîcoral bleaching, unusual marine life, or changes in the reef. Your observations help build a community-driven picture of ocean health.</p>
                <p data-lang="ja">Ê∫ñÂÇô‰∏≠ÔºöÊ∞¥‰∏≠„ÅßË¶ã„Åü„ÇÇ„ÅÆ„ÇíÂÖ±Êúâ„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ„Çµ„É≥„Ç¥„ÅÆÁôΩÂåñ„ÄÅÁèç„Åó„ÅÑÊµ∑Ê¥ãÁîüÁâ©„ÄÅ„É™„Éº„Éï„ÅÆÂ§âÂåñ„Å™„Å©„ÄÇ„ÅÇ„Å™„Åü„ÅÆË¶≥ÂØü„Åå„ÄÅÊµ∑„ÅÆÂÅ•Â∫∑Áä∂ÊÖã„ÇíÁü•„Çã„Åü„ÇÅ„ÅÆË≤¥Èáç„Å™„Éá„Éº„Çø„Å´„Å™„Çä„Åæ„Åô„ÄÇ</p>
            </section>
        </section>

        <!-- ABOUT PAGE -->
        <section class="page-section" id="page-about">
            <div class="about-content">
                <div data-lang="en">
                    <h1>About MarineObservations</h1>
                    <img src="diving.jpg" alt="Diving observation" style="width: 100%; max-width: 500px; border-radius: 12px; margin: 1.5rem 0; box-shadow: 0 4px 12px rgba(0,0,0,0.1);">
                    
                    <h2>What I saw</h2>
                    <p>In the summer of 2024, I went diving in Onna Village, Okinawa. What I saw underwater stopped me cold: coral, bleached white, stretching across the reef. Not in patches‚Äîeverywhere. The coral that local communities had spent years cultivating was gone.</p>
                    <p>I had heard about coral bleaching before. I knew the graphs, the rising temperatures, the warnings. None of it moved me to act. This did.</p>

                    <h2>Who I am</h2>
                    <p>I am a physician based in Japan. I am not a marine biologist, not an environmental scientist. But I dive‚Äîover a hundred times a year, in Okinawa, Ogasawara, the Maldives, and elsewhere. Diving is not my profession. It is how I stay connected to something larger than myself.</p>
                    <p>In my clinical work, I observe people over long periods of time. Change is slow, complex, and rarely reducible to simple cause and effect. Watching the ocean, I have come to feel, requires the same discipline: patient observation, careful recording, resistance to easy conclusions.</p>

                    <h2>Why this project</h2>
                    <p>Divers feel the change. "The coral is whiter than before." "There used to be more fish here." "The water is warmer." These observations come up constantly‚Äîover dinner, on the boat, between dives. But they remain impressions. They are not recorded, not accumulated, not shared beyond the moment.</p>
                    <p>MarineObservations is an attempt to change that. The goal is simple: to document what is happening in the waters where I dive, and to share it in a way that others can understand and use.</p>
                    <p>I am not here to tell anyone what to think. I have no political agenda‚Äîat least not yet. I do not know enough to take a position. What I do know is that understanding must come before judgment. First, observe. First, record. The rest can follow.</p>

                    <h2>Who this is for</h2>
                    <p>For anyone who wants to know what is happening beneath the surface.</p>
                    <p>For divers who sense the change but have not found a way to articulate it.</p>
                    <p>For those who believe that paying attention‚Äîeven without expertise, even without authority‚Äîis itself a form of responsibility.</p>

                    <h2>Ten years from now</h2>
                    <p>If this project is still running in ten years, what would make it worthwhile?</p>
                    <p>A world where more people think about the ocean while enjoying its beauty. That would be enough.</p>

                    <p class="about-signature">MarineObservations is a project by a physician and diver, documenting ocean conditions from outside the boundaries of formal expertise.</p>
                </div>

                <div data-lang="ja">
                    <h1>MarineObservations„Å´„Å§„ÅÑ„Å¶</h1>
                    <img src="diving.jpg" alt="Êµ∑Ê¥ãË¶≥Ê∏¨„ÅÆÊßòÂ≠ê" style="width: 100%; max-width: 500px; border-radius: 12px; margin: 1.5rem 0; box-shadow: 0 4px 12px rgba(0,0,0,0.1);">

                    <h2>Êµ∑„Å´ÊΩú„ÇãÁû¨Èñì</h2>
                    <p>Êù±‰∫¨„ÅßÊöÆ„Çâ„Åó„Å¶„ÅÑ„Çã„Å®„ÄÅËá™ÁÑ∂„ÇíË∫´‰Ωì„ÅßÊÑü„Åò„ÇãÊ©ü‰ºö„ÅØ„Åª„Å®„Çì„Å©„Å™„ÅÑ„ÄÇ„Å†„Åã„Çâ„Åì„Åù„ÄÅÊµ∑„Å´ÊΩú„Å£„ÅüÁû¨Èñì„ÅÆÊÑüË¶ö„ÅØÊ†ºÂà•„Åß„ÅÇ„Çã„ÄÇ‰∏ÄÊú¨ÁõÆ„ÅÆ„Ç®„É≥„Éà„É™„Éº„ÅßÊ∞¥‰∏≠„Å´ÂÖ•„Çã„Å®„ÄÅÂÖ®Ë∫´„ÅÆÁ¥∞ËÉû„ÅåÁõÆ„ÇíË¶ö„Åæ„Åô„Çà„ÅÜ„Å™ÊÑüË¶ö„ÅåËµ∞„Çã„ÄÇÈáçÂäõ„Åã„ÇâËß£Êîæ„Åï„Çå„ÄÅËÅû„Åì„Åà„Çã„ÅÆ„ÅØËá™ÂàÜ„ÅÆÂëºÂê∏Èü≥„Å†„Åë„ÄÇ„Åù„ÅÆÊÑüË¶ö„ÇíÊ±Ç„ÇÅ„Å¶„ÄÅÁßÅ„ÅØÊΩú„ÇäÁ∂ö„Åë„Å¶„Åç„Åü„ÄÇ</p>
                    <p>Êú¨Ê•≠„ÅØÂåªÂ∏´„Åß„ÅÇ„Çã„ÄÇËá®Â∫ä„ÅÆÂÇç„Çâ„ÄÅÂõΩÂÜÖÂ§ñ„ÅÆÊµ∑„Å´Âπ¥Èñì100Êú¨‰ª•‰∏äÊΩú„Å£„Å¶„ÅÑ„Çã„ÄÇÊ≤ñÁ∏Ñ„ÄÅÂ∞èÁ¨†Âéü„ÄÅ„É¢„É´„Éá„Ç£„Éñ‚Äî‚ÄîÂ†¥ÊâÄ„ÅåÂ§â„Çè„Çå„Å∞„ÄÅÊµ∑„ÅØ„Åæ„Å£„Åü„ÅèÁï∞„Å™„ÇãË°®ÊÉÖ„ÇíË¶ã„Åõ„Çã„ÄÇ</p>

                    <h2>2024Âπ¥„ÄÅÊÅ©Á¥çÊùë„ÅßË¶ã„Åü„ÇÇ„ÅÆ</h2>
                    <p>Ëª¢Ê©ü„ÅØ2024Âπ¥„ÅÆÂ§è„Å†„Å£„Åü„ÄÇ</p>
                    <p>Ê≤ñÁ∏Ñ„ÉªÊÅ©Á¥çÊùë„ÅÆÊµ∑„Å´ÊΩú„Å£„Åü„Å®„Åç„ÄÅÁï∞Êßò„Å™ÂÖâÊôØ„ÅåÂ∫É„Åå„Å£„Å¶„ÅÑ„Åü„ÄÇ„Çµ„É≥„Ç¥„ÅåÁôΩ„ÅÑ„ÄÇ„Åù„Çå„ÇÇ‰∏ÄÈÉ®„Åß„ÅØ„Å™„Åè„ÄÅÂ∫ÉÁØÑÂõ≤„Å´„Çè„Åü„Å£„Å¶„Åß„ÅÇ„Çã„ÄÇÁâπ„Å´Ë°ùÊíÉ„Å†„Å£„Åü„ÅÆ„ÅØ„ÄÅÂú∞ÂÖÉ„ÅÆ‰∫∫„ÄÖ„ÅåÈï∑Âπ¥„Åã„Åë„Å¶È§äÊÆñ„Åó„Å¶„Åç„Åü„Çµ„É≥„Ç¥„Åå„ÄÅ„Åª„ÅºÂÖ®ÊªÖ„Åó„Å¶„ÅÑ„Åü„Åì„Å®„Å†„Å£„Åü„ÄÇ</p>
                    <p>Ê≠£Áõ¥„Å´Ë®Ä„Åà„Å∞„ÄÅ„Åù„Çå„Åæ„ÅßÂú∞ÁêÉÊ∏©ÊöñÂåñ„Å®„ÅÑ„ÅÜË®ÄËëâ„ÅØ„ÄÅ„Å©„Åì„ÅãÈÅ†„ÅÑÊîøÊ≤ªÁöÑ„Å™Ë≠∞Ë´ñ„Å®„Åó„Å¶Âèó„ÅëÊ≠¢„ÇÅ„Å¶„ÅÑ„Åü„ÄÇ„Åó„Åã„Åó„ÄÅÁõÆ„ÅÆÂâç„ÅßÁôΩÂåñ„Åó„Åü„Çµ„É≥„Ç¥„ÇíË¶ã„Å¶„ÄÅ„Åù„ÅÆË™çË≠ò„ÅØÂÆåÂÖ®„Å´Ë¶Ü„Å£„Åü„ÄÇ„Åì„Çå„ÅØÊîøÊ≤ª„ÅÆË©±„Åß„ÅØ„Å™„ÅÑ„ÄÇ‰ªä„ÄÅ„Åì„ÅÆÊµ∑„ÅßËµ∑„Åç„Å¶„ÅÑ„ÇãÁèæË±°„Å™„ÅÆ„Å†„ÄÇ</p>

                    <h2>„Éá„Éº„Çø„Å®Â†±ÈÅì„Åß„ÅØÂãï„Åã„Å™„Åã„Å£„Åü</h2>
                    <p>ÊåØ„ÇäËøî„Çå„Å∞„ÄÅ„Çµ„É≥„Ç¥„ÅÆÁôΩÂåñ„Å´Èñ¢„Åô„ÇãÂ†±ÈÅì„ÇÑÁ†îÁ©∂„Éá„Éº„Çø„ÅØ‰ª•Ââç„Åã„ÇâÁõÆ„Å´„Åó„Å¶„ÅÑ„Åü„ÄÇÊ∞óÊ∏©‰∏äÊòá„ÅÆ„Ç∞„É©„Éï„ÇÇ„ÄÅÊµ∑Ê∞¥Ê∏©„ÅÆÂ§âÂåñ„ÇÇ„ÄÅÁü•Ë≠ò„Å®„Åó„Å¶„ÅØÁü•„Å£„Å¶„ÅÑ„Åü„ÄÇ„Åó„Åã„Åó„ÄÅ„Åù„Çå„Çâ„ÅØÁßÅ„ÅÆË°åÂãï„ÇíÂ§â„Åà„Çã„Åì„Å®„ÅØ„Å™„Åã„Å£„Åü„ÄÇ</p>
                    <p>Â§âÂåñ„ÅåËµ∑„Åç„Åü„ÅÆ„ÅØ„ÄÅËá™ÂàÜ„ÅÆÁõÆ„ÅßË¶ã„Åü„ÅÇ„Å®„Å†„Å£„Åü„ÄÇ</p>
                    <p>„Åì„ÅÆÁµåÈ®ì„Åã„Çâ„ÄÅ„Å≤„Å®„Å§„ÅÆÁ¢∫‰ø°„ÇíÊåÅ„Å§„Çà„ÅÜ„Å´„Å™„Å£„Åü„ÄÇ„Éá„Éº„Çø„ÇÑÂ†±ÈÅì„Å†„Åë„Åß„ÅØ„ÄÅ‰∫∫„ÅØÂøÖ„Åö„Åó„ÇÇÂãï„Åã„Å™„ÅÑ„ÄÇ„Åó„Åã„Åó„ÄÅÂÆüÈöõ„Å´Ë¶ã„Å¶„ÄÅË∫´‰Ωì„ÅßÊÑü„Åò„Åü„Å®„Åç„ÄÅÂàù„ÇÅ„Å¶‰Ωï„Åã„ÅåÂ§â„Çè„Çã„ÄÇÂ∞ë„Å™„Åè„Å®„ÇÇ„ÄÅÁßÅ„ÅØ„Åù„ÅÜ„Å†„Å£„Åü„ÄÇ</p>

                    <h2>„ÉÄ„Ç§„Éê„Éº„ÅØÊÑü„Åò„Å¶„ÅÑ„Çã„ÄÅ„Åó„Åã„Åó</h2>
                    <p>Êµ∑„Å´ÊΩú„Çã„ÉÄ„Ç§„Éê„Éº„Åü„Å°„ÅØ„ÄÅÁí∞Â¢É„ÅÆÂ§âÂåñ„ÇíÁ¢∫ÂÆü„Å´ÊÑü„ÅòÂèñ„Å£„Å¶„ÅÑ„Çã„ÄÇ„Äå„Çµ„É≥„Ç¥„ÅåÁôΩ„Åè„Å™„Å£„Å¶„ÅÑ„Çã„Äç„ÄåÊòî„ÅØ„ÇÇ„Å£„Å®È≠ö„Åå„ÅÑ„Åü„Äç„ÄåÊ∞¥Ê∏©„ÅåÈ´ò„ÅÑ„Äç‚Äî‚Äî„Åù„ÅÜ„Åó„ÅüË®ÄËëâ„ÅØ„ÄÅ„ÉÄ„Ç§„Éì„É≥„Ç∞Âæå„ÅÆÈ£ü‰∫ã„ÅÆÂ∏≠„ÅßÈ†ªÁπÅ„Å´‰∫§„Çè„Åï„Çå„Çã„ÄÇ</p>
                    <p>„Åó„Åã„Åó„ÄÅ„Åù„ÅÆÂÖà„Åå„Å™„ÅÑ„ÄÇÊÑüË¶ö„Å®„Åó„Å¶ÂÖ±Êúâ„Åï„Çå„Çã„Å†„Åë„Åß„ÄÅË®ÄË™ûÂåñ„Åï„Çå„Åö„ÄÅË®òÈå≤„Å´„ÇÇÊÆã„Çâ„Å™„ÅÑ„ÄÇ„ÄåÂú∞ÁêÉÊ∏©ÊöñÂåñ„ÅÆÂΩ±Èüø„Åã„ÇÇ„Åó„Çå„Å™„ÅÑ„Å≠„Äç„Åß‰ºöË©±„ÅØÁµÇ„Çè„Çä„ÄÅÊ¨°„ÅÆÈÄ±„Å´„ÅØ„Åæ„ÅüÂà•„ÅÆÊµ∑„Å∏ÊΩú„Çä„Å´Ë°å„Åè„ÄÇ</p>
                    <p>„Åù„Åì„Å´„ÄÅ‰Ωï„Åã„Åß„Åç„Çã‰ΩôÂú∞„Åå„ÅÇ„Çã„ÅÆ„Åß„ÅØ„Å™„ÅÑ„Åã„ÄÇ„Åù„ÅÜËÄÉ„Åà„Çã„Çà„ÅÜ„Å´„Å™„Å£„Åü„ÄÇ</p>

                    <h2>MarineObservations„Å®„ÅÑ„ÅÜË©¶„Åø</h2>
                    <p>ÁßÅ„ÅØÊµ∑Ê¥ãÁîüÁâ©Â≠¶ËÄÖ„Åß„ÇÇÁí∞Â¢ÉÁßëÂ≠¶ËÄÖ„Åß„ÇÇ„Å™„ÅÑ„ÄÇÂ∞ÇÈñÄÂ§ñ„ÅÆ‰∫∫Èñì„ÅåÁí∞Â¢ÉË¶≥Ê∏¨„Å´Èñ¢„Çè„Çã„Åì„Å®„Å´„ÄÅ„Å©„Çå„Åª„Å©„ÅÆÊÑèÂë≥„Åå„ÅÇ„Çã„ÅÆ„Åã„ÅØ„ÄÅÊ≠£Áõ¥„Å™„Å®„Åì„ÇçÂàÜ„Åã„Çâ„Å™„ÅÑ„ÄÇ</p>
                    <p>„Åü„Å†„ÄÅÊú¨Ê•≠„ÅßÈï∑Âπ¥Á∂ö„Åë„Å¶„Åç„ÅüËá®Â∫ä„ÅÆ‰ªï‰∫ã„Å®„ÄÅÁí∞Â¢É„ÅÆÂ§âÂåñ„ÇíË¶ã„Å§„ÇÅ„ÇãË°åÁÇ∫„Å®„ÅÆÈñì„Å´„ÄÅ‰∏çÊÄùË≠∞„Å™ÂÖ±ÈÄöÁÇπ„Åå„ÅÇ„Çã„Åì„Å®„Å´Ê∞ó„Å•„ÅÑ„Åü„ÄÇËá®Â∫ä„Åß„ÅØ„ÄÅ‰∫∫„ÅÆÂ§âÂåñ„ÇíÈï∑Êúü„Å´„Çè„Åü„Å£„Å¶Ë¶≥ÂØü„Åô„Çã„ÄÇ„Åù„ÅÆÂ§âÂåñ„ÅØË§áÈõë„Å™Ë¶ÅÂõ†„ÅåÁµ°„ÅøÂêà„ÅÑ„ÄÅ„Åô„Åê„Å´„ÅØÂèØË¶ñÂåñ„Åï„Çå„Å™„ÅÑ„ÄÇÁí∞Â¢É„ÅÆÂ§âÂåñ„ÇÇ„Åæ„Åü„ÄÅÂêå„ÅòÊßãÈÄ†„ÇíÊåÅ„Å£„Å¶„ÅÑ„Çã„Çà„ÅÜ„Å´ÊÄù„Åà„Çã„ÄÇ</p>
                    <p>„ÄåË¶≥ÂØü„Äç„Å®„ÅÑ„ÅÜË°åÁÇ∫„Åå„ÄÅ‰∏°ËÄÖ„Çí„Å§„Å™„ÅÑ„Åß„ÅÑ„Çã„ÄÇ</p>

                    <h2>Â±ä„Åë„Åü„ÅÑÁõ∏Êâã</h2>
                    <p>‰∏ÄËà¨„ÅÆ‰∫∫„Å´„ÄÅÊµ∑„ÅßËµ∑„Åç„Å¶„ÅÑ„ÇãÂ§âÂåñ„ÇíÁü•„Å£„Å¶„Åª„Åó„ÅÑ„ÄÇ</p>
                    <p>ÂêåÊôÇ„Å´„ÄÅ„ÉÄ„Ç§„Éê„Éº„Åü„Å°„Å®„Äå‰Ωï„Åã„Åå„Åß„Åç„Çã„Äç„Å®„ÅÑ„ÅÜÊÑüË¶ö„ÇíÂÖ±Êúâ„Åó„Åü„ÅÑ„ÄÇÁßÅ„Åü„Å°„ÅØ„Åô„Åß„Å´Â§âÂåñ„ÇíÊÑü„Åò„Å¶„ÅÑ„Çã„ÄÇ„Åù„ÅÆÊÑüË¶ö„ÇíË®ÄËëâ„Å´„Åó„ÄÅË®òÈå≤„Åó„ÄÅ„Éá„Éº„Çø„Å®„Åó„Å¶ÊÆã„Åô„Åì„Å®„Åß„ÄÅÊñ∞„Åó„ÅÑÂèØËÉΩÊÄß„ÅåÁîü„Åæ„Çå„Çã„Åã„ÇÇ„Åó„Çå„Å™„ÅÑ„ÄÇ</p>

                    <h2>10Âπ¥Âæå„Å´</h2>
                    <p>„ÇÇ„Åó„Åì„ÅÆ„Éó„É≠„Ç∏„Çß„ÇØ„Éà„Åå10Âπ¥Á∂ö„ÅÑ„Åü„Å®„Åó„Åü„Çâ„ÄÅ‰Ωï„ÅåÂÆüÁèæ„Åó„Å¶„ÅÑ„Çå„Å∞„Äå„ÇÑ„Å£„Å¶„Çà„Åã„Å£„Åü„Äç„Å®ÊÄù„Åà„Çã„Å†„Çç„ÅÜ„Åã„ÄÇ</p>
                    <p>Êµ∑„ÅÆÁæé„Åó„Åï„ÇÑËá™ÁÑ∂„ÅÆÊÅ©ÊÅµ„Çí‰∫´Âèó„Åó„Å™„Åå„Çâ„ÄÅ‰∫∫„ÄÖ„ÅåÁí∞Â¢É„Å´„Å§„ÅÑ„Å¶Ëá™Ë¶öÁöÑ„Å´ËÄÉ„Åà„Å¶„ÅÑ„Çã„ÄÇ„Åù„ÅÜ„Åó„ÅüÂßøÂã¢„Åå„ÄÅ„Åª„Çì„ÅÆÂ∞ë„Åó„Åß„ÇÇÂ∫É„Åå„Å£„Å¶„ÅÑ„Çå„Å∞„ÄÅ„Åù„Çå„ÅßÂçÅÂàÜ„Å†„Å®ÊÄù„Å£„Å¶„ÅÑ„Çã„ÄÇ</p>

                    <p class="about-signature">MarineObservations„ÅØ„ÄÅÂåªÂ∏´„Éª„ÉÄ„Ç§„Éê„Éº„Åß„ÅÇ„ÇãÁ≠ÜËÄÖ„Åå„ÄÅÂ∞ÇÈñÄÂ§ñ„ÅÆÁ´ãÂ†¥„Åã„ÇâÊµ∑Ê¥ãÁí∞Â¢É„ÅÆË¶≥ÂØü„Å®Áô∫‰ø°„Å´Âèñ„ÇäÁµÑ„ÇÄ„Éó„É≠„Ç∏„Çß„ÇØ„Éà„Åß„Åô„ÄÇ</p>
                </div>
            </div>
        </section>

        <!-- GLOSSARY PAGE -->
        <section class="page-section" id="page-glossary">
            <section class="hero">
                <h1 data-lang="en">Glossary</h1>
                <h1 data-lang="ja">Áî®Ë™ûËß£Ë™¨</h1>
                <p class="hero-subtitle" data-lang="en">Key terms used in coral thermal stress monitoring.</p>
                <p class="hero-subtitle" data-lang="ja">„Çµ„É≥„Ç¥ÁÜ±„Çπ„Éà„É¨„Çπ„É¢„Éã„Çø„É™„É≥„Ç∞„Åß‰ΩøÁî®„Åï„Çå„Çã‰∏ª„Å™Áî®Ë™û„ÄÇ</p>
            </section>

            <div class="glossary-grid">
                <div class="glossary-card">
                    <div class="glossary-term" data-lang="en">SST (Sea Surface Temperature)</div>
                    <div class="glossary-term" data-lang="ja">SSTÔºàÊµ∑Ê∞¥Ê∏©Ôºâ</div>
                    <div class="glossary-term-en" data-lang="ja">Sea Surface Temperature</div>
                    <p class="glossary-def" data-lang="en">The temperature of the ocean's surface layer, typically measured by satellites. This site uses NASA MUR SST data at 1km resolution.</p>
                    <p class="glossary-def" data-lang="ja">Êµ∑Èù¢‰ªòËøë„ÅÆÊ∞¥Ê∏©„ÄÇË°õÊòü„Å´„Çà„Å£„Å¶Ë¶≥Ê∏¨„Åï„Çå„Çã„ÄÇ„Åì„ÅÆ„Çµ„Ç§„Éà„Åß„ÅØNASA MUR SST„ÅÆ1kmËß£ÂÉèÂ∫¶„Éá„Éº„Çø„Çí‰ΩøÁî®„ÄÇ</p>
                </div>

                <div class="glossary-card">
                    <div class="glossary-term" data-lang="en">MMM (Maximum Monthly Mean)</div>
                    <div class="glossary-term" data-lang="ja">MMMÔºàÊúàÂà•ÊúÄÈ´òÂπ≥ÂùáÊ∞¥Ê∏©Ôºâ</div>
                    <div class="glossary-term-en" data-lang="ja">Maximum Monthly Mean</div>
                    <p class="glossary-def" data-lang="en">The highest monthly average SST at a location, calculated from historical data. Used as the baseline for measuring thermal stress. Sesoko: 29.0‚ÑÉ, Manza: 29.0‚ÑÉ.</p>
                    <p class="glossary-def" data-lang="ja">„ÅÇ„ÇãÂú∞ÁÇπ„Å´„Åä„Åë„ÇãÊúàÂπ≥ÂùáÊµ∑Ê∞¥Ê∏©„ÅÆÂπ¥ÈñìÊúÄÈ´òÂÄ§„ÄÇÈÅéÂéª„ÅÆ„Éá„Éº„Çø„Åã„ÇâÁÆóÂá∫„Åï„Çå„ÄÅÁÜ±„Çπ„Éà„É¨„Çπ„ÅÆÂü∫Ê∫ñÂÄ§„Å®„Å™„Çã„ÄÇÁÄ¨Â∫ïÔºö29.0‚ÑÉ„ÄÅ‰∏áÂ∫ßÔºö29.0‚ÑÉ„ÄÇ</p>
                </div>

                <div class="glossary-card">
                    <div class="glossary-term" data-lang="en">DHW (Degree Heating Weeks)</div>
                    <div class="glossary-term" data-lang="ja">DHWÔºàÁÜ±„Çπ„Éà„É¨„ÇπÊåáÊ®ôÔºâ</div>
                    <div class="glossary-term-en" data-lang="ja">Degree Heating Weeks</div>
                    <p class="glossary-def" data-lang="en">A measure of accumulated heat stress. Calculated by summing temperatures exceeding MMM+1‚ÑÉ over the past 12 weeks. DHW ‚â• 4: bleaching likely. DHW ‚â• 8: severe bleaching and mortality likely.</p>
                    <p class="glossary-def" data-lang="ja">ËìÑÁ©ç„Åï„Çå„ÅüÁÜ±„Çπ„Éà„É¨„Çπ„ÅÆÊåáÊ®ô„ÄÇÈÅéÂéª12ÈÄ±Èñì„ÅßMMM+1‚ÑÉ„ÇíË∂Ö„Åà„ÅüÊ∞¥Ê∏©„ÅÆÁ¥ØÁ©çÂÄ§„ÄÇDHW 4‰ª•‰∏ä„ÅßÁôΩÂåñ„ÅÆÂèØËÉΩÊÄß„ÄÅ8‰ª•‰∏ä„ÅßÂ§ßË¶èÊ®°ÁôΩÂåñ„ÉªÊ≠ª‰∫°„ÅÆÂèØËÉΩÊÄß„ÄÇ</p>
                    <p class="glossary-note" data-lang="en">Note: Satellite DHW tends to overestimate compared to in-situ measurements (2-3x higher in Sesoko studies).</p>
                    <p class="glossary-note" data-lang="ja">Ê≥®ÔºöË°õÊòüDHW„ÅØÁèæÂú∞Ë¶≥Ê∏¨„Çà„Çä2„Äú3ÂÄçÈ´ò„ÅèÂá∫„ÇãÂÇæÂêë„Åå„ÅÇ„ÇãÔºàÁÄ¨Â∫ï„ÅÆÁ†îÁ©∂„Å´„Çà„ÇãÔºâ„ÄÇ</p>
                </div>

                <div class="glossary-card">
                    <div class="glossary-term" data-lang="en">Coral Bleaching</div>
                    <div class="glossary-term" data-lang="ja">„Çµ„É≥„Ç¥„ÅÆÁôΩÂåñ</div>
                    <p class="glossary-def" data-lang="en">When stressed by high temperatures, corals expel their symbiotic algae (zooxanthellae), losing their color and primary energy source. Prolonged bleaching leads to mortality.</p>
                    <p class="glossary-def" data-lang="ja">È´òÊ∞¥Ê∏©„Å™„Å©„ÅÆ„Çπ„Éà„É¨„Çπ„Å´„Çà„Çä„ÄÅ„Çµ„É≥„Ç¥„ÅåÂÖ±ÁîüËóªÔºàË§êËô´ËóªÔºâ„ÇíÊîæÂá∫„Åô„ÇãÁèæË±°„ÄÇËâ≤„ÅåÁôΩ„Åè„Å™„Çä„ÄÅ‰∏ªË¶Å„Å™„Ç®„Éç„É´„ÇÆ„ÉºÊ∫ê„ÇíÂ§±„ÅÜ„ÄÇÈï∑ÊúüÂåñ„Åô„Çã„Å®Ê≠ª‰∫°„Å´Ëá≥„Çã„ÄÇ</p>
                </div>

                <div class="glossary-card">
                    <div class="glossary-term" data-lang="en">Bleaching Alert Levels</div>
                    <div class="glossary-term" data-lang="ja">ÁôΩÂåñË≠¶Â†±„É¨„Éô„É´</div>
                    <p class="glossary-def" data-lang="en">NOAA's classification system based on thermal stress:</p>
                    <p class="glossary-def" data-lang="ja">NOAA„Å´„Çà„ÇãÁÜ±„Çπ„Éà„É¨„Çπ„ÅÆÂàÜÈ°ûÔºö</p>
                    <p class="glossary-def">
                        <span data-lang="en">‚Ä¢ No Stress: SST below MMM<br>‚Ä¢ Watch: SST exceeds MMM<br>‚Ä¢ Warning: DHW > 0<br>‚Ä¢ Alert Level 1: DHW ‚â• 4<br>‚Ä¢ Alert Level 2: DHW ‚â• 8</span>
                        <span data-lang="ja">„Éª„Çπ„Éà„É¨„Çπ„Å™„ÅóÔºöSST„ÅåMMMÊú™Ê∫Ä<br>„ÉªÊ≥®ÊÑèÔºöSST„ÅåMMM„ÇíË∂ÖÈÅé<br>„ÉªË≠¶ÊàíÔºöDHW„Åå0„ÇíË∂ÖÈÅé<br>„ÉªË≠¶Â†±„É¨„Éô„É´1ÔºöDHW 4‰ª•‰∏ä<br>„ÉªË≠¶Â†±„É¨„Éô„É´2ÔºöDHW 8‰ª•‰∏ä</span>
                    </p>
                </div>

                <div class="glossary-card">
                    <div class="glossary-term" data-lang="en">Thermal History</div>
                    <div class="glossary-term" data-lang="ja">ÁÜ±Â±•Ê≠¥</div>
                    <p class="glossary-def" data-lang="en">The pattern of heat stress over multiple years. Research shows that corals exposed to moderate stress in one year may show increased short-term tolerance the following year.</p>
                    <p class="glossary-def" data-lang="ja">Ë§áÊï∞Âπ¥„Å´„Çè„Åü„ÇãÁÜ±„Çπ„Éà„É¨„Çπ„ÅÆ„Éë„Çø„Éº„É≥„ÄÇÁ†îÁ©∂„Å´„Çà„Çã„Å®„ÄÅÂâçÂπ¥„Å´‰∏≠Á®ãÂ∫¶„ÅÆ„Çπ„Éà„É¨„Çπ„ÇíÁµåÈ®ì„Åó„Åü„Çµ„É≥„Ç¥„ÅØ„ÄÅÁøåÂπ¥„Å´Áü≠ÊúüÁöÑ„Å™ËÄêÁÜ±ÊÄß„ÅåÂêë‰∏ä„Åô„Çã„Åì„Å®„Åå„ÅÇ„Çã„ÄÇ</p>
                </div>

                <div class="glossary-card">
                    <div class="glossary-term" data-lang="en">NOAA Coral Reef Watch</div>
                    <div class="glossary-term" data-lang="ja">NOAA Coral Reef Watch</div>
                    <p class="glossary-def" data-lang="en">A program by the U.S. National Oceanic and Atmospheric Administration that provides global satellite monitoring of coral reef ecosystems and bleaching risk.</p>
                    <p class="glossary-def" data-lang="ja">Á±≥ÂõΩÊµ∑Ê¥ãÂ§ßÊ∞óÂ∫Å„Å´„Çà„Çã„Éó„É≠„Ç∞„É©„É†„ÄÇË°õÊòü„Éá„Éº„Çø„ÇíÁî®„ÅÑ„Å¶‰∏ñÁïå„ÅÆ„Çµ„É≥„Ç¥Á§ÅÁîüÊÖãÁ≥ª„Å®ÁôΩÂåñ„É™„Çπ„ÇØ„Çí„É¢„Éã„Çø„É™„É≥„Ç∞„ÄÇ</p>
                </div>

                <div class="glossary-card">
                    <div class="glossary-term" data-lang="en">Monitoring Sites 1000</div>
                    <div class="glossary-term" data-lang="ja">„É¢„Éã„Çø„É™„É≥„Ç∞„Çµ„Ç§„Éà1000</div>
                    <p class="glossary-def" data-lang="en">A long-term ecological monitoring program by Japan's Ministry of the Environment, tracking biodiversity changes at 1,000 sites across Japan, including coral reefs.</p>
                    <p class="glossary-def" data-lang="ja">Áí∞Â¢ÉÁúÅ„Å´„Çà„ÇãÈï∑ÊúüÁîüÊÖãÁ≥ª„É¢„Éã„Çø„É™„É≥„Ç∞Ë™øÊüª„ÄÇÊó•Êú¨ÂÖ®ÂõΩÁ¥Ñ1,000ÁÆáÊâÄ„ÅßÁîüÁâ©Â§öÊßòÊÄß„ÅÆÂ§âÂåñ„ÇíËøΩË∑°„ÄÇ„Çµ„É≥„Ç¥Á§Å„ÇÇÂØæË±°„Å´Âê´„Åæ„Çå„Çã„ÄÇ</p>
                </div>
            </div>
        </section>
    </main>

    <footer>
        <div class="footer-content">
            <div>
                <span data-lang="en">¬© 2024 marine-obs.org ¬∑ Independent research project</span>
                <span data-lang="ja">¬© 2024 marine-obs.org ¬∑ ÂÄã‰∫∫„Éó„É≠„Ç∏„Çß„ÇØ„Éà</span>
            </div>
            <div class="footer-links">
                <a href="#">GitHub</a>
                <a href="#">Ko-fi</a>
                <a href="#" data-lang="en">Contact</a>
                <a href="#" data-lang="ja">„ÅäÂïè„ÅÑÂêà„Çè„Åõ</a>
            </div>
        </div>
    </footer>

    <script>
        const body = document.body;
        const btnEn = document.getElementById('lang-en');
        const btnJa = document.getElementById('lang-ja');

        // Language
        function setLang(lang) {
            if (lang === 'ja') {
                body.classList.add('ja');
                btnJa.classList.add('active');
                btnEn.classList.remove('active');
                document.documentElement.lang = 'ja';
            } else {
                body.classList.remove('ja');
                btnEn.classList.add('active');
                btnJa.classList.remove('active');
                document.documentElement.lang = 'en';
            }
            localStorage.setItem('lang', lang);
        }

        btnEn.addEventListener('click', () => setLang('en'));
        btnJa.addEventListener('click', () => setLang('ja'));

        // Navigation
        const navLinks = document.querySelectorAll('[data-nav]');
        const pageSections = document.querySelectorAll('.page-section');

        function showPage(pageId) {
            pageSections.forEach(section => {
                section.classList.remove('active');
            });
            document.getElementById('page-' + pageId).classList.add('active');

            navLinks.forEach(link => {
                if (link.tagName === 'A') {
                    link.classList.remove('active');
                    if (link.getAttribute('data-nav') === pageId) {
                        link.classList.add('active');
                    }
                }
            });

            window.scrollTo(0, 0);
        }

        navLinks.forEach(link => {
            link.addEventListener('click', (e) => {
                e.preventDefault();
                const pageId = link.getAttribute('data-nav');
                showPage(pageId);
            });
        });

        // Initialize
        const savedLang = localStorage.getItem('lang');
        if (savedLang) {
            setLang(savedLang);
        } else if (navigator.language.startsWith('ja')) {
            setLang('ja');
        }
    </script>


<!-- SST Chart Data (Generated from NASA MUR SST 2002-2024) -->
<script>
const CHART_DATA = {
  dhw_trend: {
    labels: ['2015', '2016', '2017', '2018', '2019', '2020', '2021', '2022', '2023', '2024'],
    datasets: {
      sesoko: [0.3, 8.3, 9.7, 0.3, 0.6, 3.1, 0.8, 5.0, 2.1, 9.8],
      manza: [0.8, 8.6, 9.7, 1.2, 1.7, 3.3, 1.0, 5.1, 2.4, 10.9],
      ogasawara: [0.3, 0.3, 2.9, 2.3, 1.1, 9.6, 3.4, 4.5, 1.4, 4.1]
    }
  },
  sst_monthly: {
    labels: ['J', 'F', 'M', 'A', 'M', 'J', 'J', 'A', 'S', 'O', 'N', 'D'],
    sesoko: {
      '2024': [23.1, 22.7, 22.1, 23.2, 24.7, 26.5, 29.8, 29.9, 29.5, 28.1, 26.9, 24.7],
      '2023': [22.1, 21.7, 22.4, 23.0, 24.7, 26.6, 28.9, 28.2, 29.1, 27.5, 25.8, 24.1],
      mmm: 29.0
    },
    manza: {
      '2024': [22.5, 22.1, 21.6, 23.0, 24.7, 26.0, 29.7, 30.2, 29.4, 28.3, 26.5, 24.1],
      '2023': [21.9, 21.3, 21.9, 22.8, 24.2, 26.5, 29.0, 28.1, 29.2, 27.6, 25.5, 23.7],
      mmm: 29.0
    }
  },
  site_compare: {
    labels: ['Jun', 'Jul', 'Aug', 'Sep'],
    sesoko: [26.5, 29.8, 29.9, 29.5],
    manza: [26.0, 29.7, 30.2, 29.4],
    ogasawara: [26.3, 29.0, 28.4, 28.0]
  }
};

// DHWËâ≤ÂàÜ„ÅëÔºàÈñæÂÄ§: 4Êú™Ê∫Ä=Á∑ë, 4-8=ÈªÑ, 8‰ª•‰∏ä=Ëµ§Ôºâ
function getDHWColors(values) {
  return values.map(v => v >= 8 ? '#a65d5d' : v >= 4 ? '#c4a35a' : '#5b9a94');
}

document.addEventListener('DOMContentLoaded', function() {
  // DHWÂπ¥Âà•Êé®ÁßªÔºà‰∏áÂ∫ßÔºâ
  const ctxDHW = document.getElementById('chart-dhw-trend');
  if (ctxDHW) {
    const dhwData = CHART_DATA.dhw_trend.datasets.manza;
    new Chart(ctxDHW, {
      type: 'bar',
      data: {
        labels: CHART_DATA.dhw_trend.labels,
        datasets: [{
          data: dhwData,
          backgroundColor: getDHWColors(dhwData),
          borderRadius: 4
        }]
      },
      options: {
        responsive: true,
        maintainAspectRatio: false,
        plugins: { legend: { display: false } },
        scales: {
          y: { beginAtZero: true, max: 12, grid: { color: 'rgba(0,122,108,0.08)' }, ticks: { font: { size: 10 }, color: '#666' } },
          x: { grid: { display: false }, ticks: { font: { size: 10 }, color: '#666' } }
        }
      }
    });
  }

  // SSTÊúàÂà•ÊØîËºÉÔºà‰∏áÂ∫ß 2024 vs 2023Ôºâ
  const ctxSST = document.getElementById('chart-sst-compare');
  if (ctxSST) {
    const sst = CHART_DATA.sst_monthly.manza;
    new Chart(ctxSST, {
      type: 'line',
      data: {
        labels: CHART_DATA.sst_monthly.labels,
        datasets: [
          {
            label: '2024',
            data: sst['2024'],
            borderColor: '#a65d5d',
            backgroundColor: 'rgba(231,76,60,0.1)',
            fill: true,
            tension: 0.4,
            pointRadius: 0,
            borderWidth: 2
          },
          {
            label: '2023',
            data: sst['2023'],
            borderColor: '#3498db',
            borderDash: [5, 5],
            fill: false,
            tension: 0.4,
            pointRadius: 0,
            borderWidth: 2
          },
          {
            label: 'MMM',
            data: Array(12).fill(sst.mmm),
            borderColor: '#3d7a73',
            borderDash: [2, 2],
            fill: false,
            pointRadius: 0,
            borderWidth: 1
          }
        ]
      },
      options: {
        responsive: true,
        maintainAspectRatio: false,
        plugins: { legend: { display: true, position: 'bottom', labels: { boxWidth: 10, font: { size: 9 }, padding: 8 } } },
        scales: {
          y: { min: 20, max: 32, grid: { color: 'rgba(0,122,108,0.08)' }, ticks: { font: { size: 9 }, color: '#666' } },
          x: { grid: { display: false }, ticks: { font: { size: 9 }, color: '#666', maxRotation: 0 } }
        }
      }
    });
  }

  // Âú∞ÁÇπÈñìÊØîËºÉÔºà2024Âπ¥Â§èÂ≠£„ÄÅ3Âú∞ÁÇπÔºâ
  const ctxSite = document.getElementById('chart-site-compare');
  if (ctxSite) {
    const sc = CHART_DATA.site_compare;
    new Chart(ctxSite, {
      type: 'bar',
      data: {
        labels: sc.labels,
        datasets: [
          { label: 'Sesoko', data: sc.sesoko, backgroundColor: '#5b9a94', borderRadius: 4 },
          { label: 'Manza', data: sc.manza, backgroundColor: '#3498db', borderRadius: 4 },
          { label: 'Ogasawara', data: sc.ogasawara, backgroundColor: '#9b59b6', borderRadius: 4 }
        ]
      },
      options: {
        responsive: true,
        maintainAspectRatio: false,
        plugins: { legend: { display: true, position: 'bottom', labels: { boxWidth: 10, font: { size: 9 }, padding: 8 } } },
        scales: {
          y: { min: 24, max: 32, grid: { color: 'rgba(0,122,108,0.08)' }, ticks: { font: { size: 9 }, color: '#666' } },
          x: { grid: { display: false }, ticks: { font: { size: 9 }, color: '#666' } }
        }
      }
    });
  }
});
</script>

<script>
// Marine Monitor - Supabase Data Fetcher
(function() {
    const SUPABASE_URL = 'https://pegiuiblpliainpdggfj.supabase.co';
    const SUPABASE_ANON_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InBlZ2l1aWJscGxpYWlucGRnZ2ZqIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc2NDIwOTM3NCwiZXhwIjoyMDc5Nzg1Mzc0fQ.V3C2newkAdn6gW2TR_ct-_WupVKZapXKtD9Cr3aMk2M';
    
    const LOCATIONS = [
        { id: 'okinawa_sesoko', name: 'ÁÄ¨Â∫ï', nameEn: 'Sesoko' },
        { id: 'okinawa_manza', name: '‰∏áÂ∫ß', nameEn: 'Manza' },
        { id: 'ogasawara', name: 'Â∞èÁ¨†Âéü', nameEn: 'Ogasawara' }
    ];
    
    const WEEKDAYS_JA = ['Êó•', 'Êúà', 'ÁÅ´', 'Ê∞¥', 'Êú®', 'Èáë', 'Âúü'];
    const WEEKDAYS_EN = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];
    
    function degToDirection(deg) {
        if (deg === null || deg === undefined) return '-';
        const dirs = ['Âåó', 'ÂåóÊù±', 'Êù±', 'ÂçóÊù±', 'Âçó', 'ÂçóË•ø', 'Ë•ø', 'ÂåóË•ø'];
        const dirsEn = ['N', 'NE', 'E', 'SE', 'S', 'SW', 'W', 'NW'];
        const idx = Math.round(deg / 45) % 8;
        return { ja: dirs[idx], en: dirsEn[idx] };
    }
    
    function getSeaStatus(waveHeight, swellHeight, windSpeed) {
        const totalWave = (waveHeight || 0) + (swellHeight || 0);
        const wind = windSpeed || 0;
        if (totalWave >= 2.0 || wind >= 12) return { class: 'warning', textJa: 'Ëçí„Çå', textEn: 'Rough' };
        if (totalWave >= 1.0 || wind >= 8) return { class: 'caution', textJa: 'Ê≥®ÊÑè', textEn: 'Caution' };
        return { class: 'good', textJa: 'ËâØÂ•Ω', textEn: 'Good' };
    }
    
    async function fetchMarineData() {
        const now = new Date();
        const start = new Date(now);
        start.setHours(0, 0, 0, 0);
        const end = new Date(start);
        end.setDate(end.getDate() + 4);
        
        const startISO = start.toISOString();
        const endISO = end.toISOString();
        
        const results = {};
        
        for (const loc of LOCATIONS) {
            const url = `${SUPABASE_URL}/rest/v1/marine_weather?location=eq.${loc.id}&datetime=gte.${startISO}&datetime=lt.${endISO}&order=datetime.asc&select=datetime,water_temperature,wave_height,swell_height,wind_speed,wind_direction,air_temperature,visibility`;
            
            try {
                const resp = await fetch(url, {
                    headers: {
                        'apikey': SUPABASE_ANON_KEY,
                        'Authorization': `Bearer ${SUPABASE_ANON_KEY}`
                    }
                });
                const data = await resp.json();
                results[loc.id] = data;
            } catch (e) {
                console.error(`Error fetching ${loc.id}:`, e);
                results[loc.id] = [];
            }
        }
        
        return results;
    }
    
    function groupByDate(data) {
        const groups = {};
        for (const row of data) {
            const dt = new Date(row.datetime);
            const hour = dt.getUTCHours() + 9; // JST
            if (hour < 7 || hour > 17) continue; // 7:00-17:00 JST only
            
            const dateKey = dt.toISOString().slice(0, 10);
            if (!groups[dateKey]) groups[dateKey] = [];
            groups[dateKey].push({
                hour: hour,
                waterTemp: row.water_temperature,
                waveHeight: row.wave_height,
                swellHeight: row.swell_height,
                windSpeed: row.wind_speed,
                windDir: row.wind_direction,
                airTemp: row.air_temperature,
                visibility: row.visibility
            });
        }
        return groups;
    }
    
    function calcDailySummary(dayData) {
        if (!dayData || dayData.length === 0) return null;
        
        const waterTemps = dayData.map(d => d.waterTemp).filter(v => v != null);
        const waves = dayData.map(d => d.waveHeight).filter(v => v != null);
        const swells = dayData.map(d => d.swellHeight).filter(v => v != null);
        const winds = dayData.map(d => d.windSpeed).filter(v => v != null);
        const windDirs = dayData.map(d => d.windDir).filter(v => v != null);
        
        return {
            waterTemp: waterTemps.length ? (waterTemps.reduce((a,b) => a+b) / waterTemps.length) : null,
            waveMax: waves.length ? Math.max(...waves) : null,
            swellMax: swells.length ? Math.max(...swells) : null,
            windMax: winds.length ? Math.max(...winds) : null,
            windDirAvg: windDirs.length ? (windDirs.reduce((a,b) => a+b) / windDirs.length) : null
        };
    }
    
    function renderCards(data) {
        const grid = document.getElementById('marine-grid');
        if (!grid) return;
        
        const isJa = document.body.classList.contains('ja');
        let html = '';
        
        for (const loc of LOCATIONS) {
            const locData = data[loc.id] || [];
            const grouped = groupByDate(locData);
            const dates = Object.keys(grouped).sort().slice(0, 4);
            
            if (dates.length === 0) {
                html += `<div class="marine-summary-card"><div class="marine-location">${isJa ? loc.name : loc.nameEn}</div><div style="color:var(--text-muted)">No data</div></div>`;
                continue;
            }
            
            // Today's summary
            const todaySummary = calcDailySummary(grouped[dates[0]]);
            const status = todaySummary ? getSeaStatus(todaySummary.waveMax, todaySummary.swellMax, todaySummary.windMax) : { class: 'good', textJa: '-', textEn: '-' };
            const windDir = todaySummary ? degToDirection(todaySummary.windDirAvg) : { ja: '-', en: '-' };
            
            html += `
            <div class="marine-summary-card" onclick="this.classList.toggle('expanded')">
                <div class="marine-card-header">
                    <span class="marine-location">${isJa ? loc.name : loc.nameEn}</span>
                    <div class="marine-status">
                        <span class="status-dot ${status.class}"></span>
                        <span>${isJa ? status.textJa : status.textEn}</span>
                        <span class="marine-expand-icon">‚ñº</span>
                    </div>
                </div>
                <div class="marine-summary-row">
                    <div class="marine-summary-item">
                        <span class="label">${isJa ? 'Ê∞¥Ê∏©' : 'Water'}</span>
                        <span class="value">${todaySummary?.waterTemp?.toFixed(1) || '-'}‚ÑÉ</span>
                    </div>
                    <div class="marine-summary-item">
                        <span class="label">${isJa ? 'Ê≥¢' : 'Wave'}</span>
                        <span class="value">${todaySummary?.waveMax?.toFixed(1) || '-'}m</span>
                    </div>
                    <div class="marine-summary-item">
                        <span class="label">${isJa ? 'È¢®' : 'Wind'}</span>
                        <span class="value">${todaySummary?.windMax?.toFixed(0) || '-'}m/s ${isJa ? windDir.ja : windDir.en}</span>
                    </div>
                </div>
                <div class="marine-detail">
                    ${renderDetailTables(grouped, dates, isJa)}
                </div>
            </div>`;
        }
        
        grid.innerHTML = html;
        
        // Update time
        const updateEl = document.getElementById('marine-update-time');
        if (updateEl) {
            const now = new Date();
            updateEl.textContent = isJa 
                ? `Êõ¥Êñ∞: ${now.getMonth()+1}/${now.getDate()} ${now.getHours()}:${String(now.getMinutes()).padStart(2,'0')}`
                : `Updated: ${now.toLocaleTimeString('en-US', { hour: '2-digit', minute: '2-digit' })}`;
        }
    }
    
    function renderDetailTables(grouped, dates, isJa) {
        let html = '';
        
        for (const dateKey of dates) {
            const dayData = grouped[dateKey];
            if (!dayData || dayData.length === 0) continue;
            
            const dt = new Date(dateKey + 'T00:00:00Z');
            const wd = isJa ? WEEKDAYS_JA[dt.getUTCDay()] : WEEKDAYS_EN[dt.getUTCDay()];
            const dateLabel = `${dt.getUTCMonth()+1}/${dt.getUTCDate()} (${wd})`;
            
            html += `
            <div class="marine-day-group">
                <div class="marine-day-header">${dateLabel}</div>
                <table class="marine-table">
                    <thead>
                        <tr>
                            <th>${isJa ? 'ÊôÇÂàª' : 'Time'}</th>
                            <th>${isJa ? 'Ê≥¢È´ò' : 'Wave'}</th>
                            <th>${isJa ? '„ÅÜ„Å≠„Çä' : 'Swell'}</th>
                            <th>${isJa ? 'È¢®' : 'Wind'}</th>
                            <th>${isJa ? 'Ê∞¥Ê∏©' : 'Temp'}</th>
                        </tr>
                    </thead>
                    <tbody>`;
            
            for (const row of dayData) {
                const windDir = degToDirection(row.windDir);
                html += `
                        <tr>
                            <td>${row.hour}:00</td>
                            <td>${row.waveHeight?.toFixed(1) || '-'}m</td>
                            <td>${row.swellHeight?.toFixed(1) || '-'}m</td>
                            <td class="wind-dir">${row.windSpeed?.toFixed(0) || '-'}m/s <span style="color:var(--text-muted)">${isJa ? windDir.ja : windDir.en}</span></td>
                            <td>${row.waterTemp?.toFixed(1) || '-'}‚ÑÉ</td>
                        </tr>`;
            }
            
            html += `
                    </tbody>
                </table>
            </div>`;
        }
        
        return html;
    }
    
    // Render to a specific grid
    function renderToGrid(gridId, updateId, data) {
        const grid = document.getElementById(gridId);
        if (!grid) return;
        
        const isJa = document.body.classList.contains('ja');
        let html = '';
        
        for (const loc of LOCATIONS) {
            const locData = data[loc.id] || [];
            const grouped = groupByDate(locData);
            const dates = Object.keys(grouped).sort().slice(0, 4);
            
            if (dates.length === 0) {
                html += `<div class="marine-summary-card"><div class="marine-location">${isJa ? loc.name : loc.nameEn}</div><div style="color:var(--text-muted)">No data</div></div>`;
                continue;
            }
            
            const todaySummary = calcDailySummary(grouped[dates[0]]);
            const status = todaySummary ? getSeaStatus(todaySummary.waveMax, todaySummary.swellMax, todaySummary.windMax) : { class: 'good', textJa: '-', textEn: '-' };
            const windDir = todaySummary ? degToDirection(todaySummary.windDirAvg) : { ja: '-', en: '-' };
            
            html += `
            <div class="marine-summary-card" onclick="this.classList.toggle('expanded')">
                <div class="marine-card-header">
                    <span class="marine-location">${isJa ? loc.name : loc.nameEn}</span>
                    <div class="marine-status">
                        <span class="status-dot ${status.class}"></span>
                        <span>${isJa ? status.textJa : status.textEn}</span>
                        <span class="marine-expand-icon">‚ñº</span>
                    </div>
                </div>
                <div class="marine-summary-row">
                    <div class="marine-summary-item">
                        <span class="label">${isJa ? 'Ê∞¥Ê∏©' : 'Water'}</span>
                        <span class="value">${todaySummary?.waterTemp?.toFixed(1) || '-'}‚ÑÉ</span>
                    </div>
                    <div class="marine-summary-item">
                        <span class="label">${isJa ? 'Ê≥¢' : 'Wave'}</span>
                        <span class="value">${todaySummary?.waveMax?.toFixed(1) || '-'}m</span>
                    </div>
                    <div class="marine-summary-item">
                        <span class="label">${isJa ? 'È¢®' : 'Wind'}</span>
                        <span class="value">${todaySummary?.windMax?.toFixed(0) || '-'}m/s ${isJa ? windDir.ja : windDir.en}</span>
                    </div>
                </div>
                <div class="marine-detail">
                    ${renderDetailTables(grouped, dates, isJa)}
                </div>
            </div>`;
        }
        
        grid.innerHTML = html;
        
        const updateEl = document.getElementById(updateId);
        if (updateEl) {
            const now = new Date();
            updateEl.textContent = isJa 
                ? `Êõ¥Êñ∞: ${now.getMonth()+1}/${now.getDate()} ${now.getHours()}:${String(now.getMinutes()).padStart(2,'0')}`
                : `Updated: ${now.toLocaleTimeString('en-US', { hour: '2-digit', minute: '2-digit' })}`;
        }
    }
    
    // Initialize
    document.addEventListener('DOMContentLoaded', async () => {
        const data = await fetchMarineData();
        
        // Render to divers page
        renderToGrid('marine-grid-divers', 'marine-update-time-divers', data);
        
        // Re-render on language change
        const observer = new MutationObserver(() => {
            renderToGrid('marine-grid-divers', 'marine-update-time-divers', data);
        });
        observer.observe(document.body, { attributes: true, attributeFilter: ['class'] });
    });
})();
</script>

<!-- Diver Page Enhancements Script -->
<script>
(function() {
    const GEAR_RECS = {
        ja: [
            { min: 28, gear: '3mm „Åæ„Åü„ÅØ „É©„ÉÉ„Ç∑„É•„Ç¨„Éº„Éâ', note: 'Êöñ„Åã„ÅÑÊµ∑' },
            { min: 26, gear: '3mm „Ç¶„Çß„ÉÉ„Éà', note: 'Âø´ÈÅ©' },
            { min: 24, gear: '5mm „Ç¶„Çß„ÉÉ„Éà', note: 'Ê®ôÊ∫ñÁöÑ„Å™‰øùÊ∏©' },
            { min: 22, gear: '5mm + „Éï„Éº„Éâ„Éô„Çπ„Éà', note: '‰øùÊ∏©Âº∑Âåñ' },
            { min: 20, gear: '5mm „ÉÑ„Éº„Éî„Éº„Çπ', note: 'Èáç„Å≠ÁùÄÊé®Â•®' },
            { min: 0, gear: '„Éâ„É©„Ç§„Çπ„Éº„ÉÑ', note: '‰ΩéÊ∞¥Ê∏©' }
        ],
        en: [
            { min: 28, gear: '3mm / rashguard', note: 'Warm' },
            { min: 26, gear: '3mm wetsuit', note: 'Comfortable' },
            { min: 24, gear: '5mm wetsuit', note: 'Standard' },
            { min: 22, gear: '5mm + hood vest', note: 'Extra warmth' },
            { min: 20, gear: '5mm two-piece', note: 'Layer up' },
            { min: 0, gear: 'Dry suit', note: 'Cold' }
        ]
    };

    function getGearRec(temp, lang) {
        const recs = GEAR_RECS[lang] || GEAR_RECS.en;
        for (const r of recs) if (temp >= r.min) return r;
        return recs[recs.length - 1];
    }

    // Extract data from existing marine monitor cards
    function extractMarineData() {
        const cards = document.querySelectorAll('#marine-grid-divers .marine-summary-card');
        const data = [];
        cards.forEach(card => {
            const locEl = card.querySelector('.marine-location');
            const items = card.querySelectorAll('.marine-summary-item');
            if (!locEl || items.length < 3) return;
            
            const loc = locEl.textContent.trim();
            let temp = null, wave = null, wind = null;
            
            items.forEach(item => {
                const val = item.querySelector('.value')?.textContent || '';
                const label = item.querySelector('.label')?.textContent || '';
                if (label.includes('Ê∞¥Ê∏©') || label.includes('Water')) temp = parseFloat(val);
                else if (label.includes('Ê≥¢') || label.includes('Wave')) wave = parseFloat(val);
                else if (label.includes('È¢®') || label.includes('Wind')) wind = parseFloat(val);
            });
            
            if (loc && temp !== null) {
                data.push({ loc, temp, wave: wave || 0, wind: wind || 0 });
            }
        });
        return data;
    }

    async function renderCoralStress(isJa) {
        const coralGrid = document.getElementById('coral-stress-grid');
        if (!coralGrid) return;
        
        try {
            // Load SST and DHW data
            const [sstData, dhwData] = await Promise.all([
                fetch('data/sst_recent.json').then(r => r.json()),
                fetch('data/dhw_annual_peak.json').then(r => r.json())
            ]);
            
            const locs = [
                { id: 'sesoko', ja: 'ÁÄ¨Â∫ï', en: 'Sesoko', mmm: 29.0 },
                { id: 'manza', ja: '‰∏áÂ∫ß', en: 'Manza', mmm: 29.0 },
                { id: 'ogasawara', ja: 'Â∞èÁ¨†Âéü', en: 'Ogasawara', mmm: 28.5 }
            ];
            
            let html = '';
            
            for (const loc of locs) {
                const sstArr = sstData[loc.id] || [];
                const latestSST = sstArr.length > 0 ? sstArr[sstArr.length - 1] : null;
                
                // 2024 peak DHW
                const dhwArr = dhwData[loc.id] || [];
                const dhw2024 = dhwArr.find(d => d.year === 2024);
                
                const name = isJa ? loc.ja : loc.en;
                const currentSST = latestSST ? latestSST.sst.toFixed(1) : '-';
                const diffFromMMM = latestSST ? (latestSST.sst - loc.mmm).toFixed(1) : '-';
                const peakDHW = dhw2024 ? dhw2024.peak_dhw.toFixed(1) : '-';
                
                // Status based on current SST vs MMM
                let statusCls = 'safe';
                let statusTxt = isJa ? '‰Ωé„É™„Çπ„ÇØ' : 'Low Risk';
                if (latestSST && latestSST.sst > loc.mmm + 1) {
                    statusCls = 'warning';
                    statusTxt = isJa ? 'Ë¶ÅÊ≥®ÊÑè' : 'Watch';
                } else if (latestSST && latestSST.sst > loc.mmm) {
                    statusCls = 'watch';
                    statusTxt = isJa ? 'Ê≥®ÊÑè' : 'Monitor';
                }
                
                html += `
                <div class="coral-stress-card">
                    <div class="coral-stress-location">${name}</div>
                    <div class="coral-stress-row">
                        <div class="coral-stress-metric">
                            <span class="coral-stress-value">${currentSST}¬∞C</span>
                            <span class="coral-stress-label">${isJa ? 'ÁèæÂú®SST' : 'Current SST'}</span>
                        </div>
                        <div class="coral-stress-metric">
                            <span class="coral-stress-value ${parseFloat(diffFromMMM) > 0 ? 'warm' : ''}">${diffFromMMM > 0 ? '+' : ''}${diffFromMMM}¬∞C</span>
                            <span class="coral-stress-label">${isJa ? 'vs MMM' : 'vs MMM'}</span>
                        </div>
                    </div>
                    <div class="coral-stress-row">
                        <div class="coral-stress-metric">
                            <span class="coral-stress-value">${peakDHW}</span>
                            <span class="coral-stress-label">${isJa ? '2024ÊúÄÂ§ßDHW' : '2024 Peak DHW'}</span>
                        </div>
                        <div class="coral-stress-status ${statusCls}">${statusTxt}</div>
                    </div>
                </div>`;
            }
            
            coralGrid.innerHTML = html;
            
        } catch (err) {
            console.error('Coral stress error:', err);
            coralGrid.innerHTML = `<div style="color:var(--text-muted)">${isJa ? '„Éá„Éº„ÇøË™≠„ÅøËæº„Åø„Ç®„É©„Éº' : 'Error loading data'}</div>`;
        }
    }

    function renderGearGuide(marineData, isJa) {
        const gearGrid = document.getElementById('gear-guide-grid');
        if (!gearGrid || marineData.length === 0) return;
        
        const okinawa = marineData.find(d => d.loc.includes('ÁÄ¨Â∫ï') || d.loc.includes('‰∏áÂ∫ß') || d.loc.includes('Sesoko') || d.loc.includes('Manza'));
        const ogasawara = marineData.find(d => d.loc.includes('Â∞èÁ¨†Âéü') || d.loc.includes('Ogasawara'));
        
        let html = '';
        if (okinawa) {
            const rec = getGearRec(okinawa.temp, isJa ? 'ja' : 'en');
            html += `<div class="gear-location"><div class="gear-location-name">${isJa ? 'Ê≤ñÁ∏Ñ' : 'Okinawa'} <span class="gear-location-temp">${okinawa.temp.toFixed(1)}¬∞C</span></div><div class="gear-recommendation"><strong>${rec.gear}</strong><br>${rec.note}</div></div>`;
        }
        if (ogasawara) {
            const rec = getGearRec(ogasawara.temp, isJa ? 'ja' : 'en');
            html += `<div class="gear-location"><div class="gear-location-name">${isJa ? 'Â∞èÁ¨†Âéü' : 'Ogasawara'} <span class="gear-location-temp">${ogasawara.temp.toFixed(1)}¬∞C</span></div><div class="gear-recommendation"><strong>${rec.gear}</strong><br>${rec.note}</div></div>`;
        }
        gearGrid.innerHTML = html || `<div style="color:var(--text-muted)">${isJa ? '„Éá„Éº„Çø„Å™„Åó' : 'No data'}</div>`;
    }

    function render() {
        const isJa = document.body.classList.contains('ja');
        const marineData = extractMarineData();
        
        if (marineData.length === 0) {
            setTimeout(render, 1000);
            return;
        }
        
        renderCoralStress(isJa);
        renderGearGuide(marineData, isJa);
    }

    document.addEventListener('DOMContentLoaded', () => {
        setTimeout(render, 1500);
        const observer = new MutationObserver(() => setTimeout(render, 500));
        observer.observe(document.body, { attributes: true, attributeFilter: ['class'] });
    });
})();
</script>



<!-- Chart.js Data Initialization -->
<script>
(function() {
    // Chart.js default settings
    Chart.defaults.font.family = "'Noto Sans JP', -apple-system, BlinkMacSystemFont, sans-serif";
    Chart.defaults.font.size = 11;
    
    const chartColors = {
        sesoko: '#2b6cb0',
        manza: '#c05621', 
        ogasawara: '#2f855a'
    };
    
    let dhwChart = null;
    // extremeChart loaded via fetch
    
    async function initCharts() {
        try {
            // Load JSON data
            const [dhwData, climData] = await Promise.all([
                fetch('data/dhw_annual_peak.json').then(r => r.json()),
                fetch('data/monthly_clim.json').then(r => r.json())
            ]);
            
            // DHW Chart
            const dhwCtx = document.getElementById('dhwChart');
            if (dhwCtx) {
                const years = dhwData.sesoko.map(d => d.year);
                
                dhwChart = new Chart(dhwCtx, {
                    type: 'bar',
                    data: {
                        labels: years,
                        datasets: [
                            {
                                label: 'ÁÄ¨Â∫ï',
                                data: dhwData.sesoko.map(d => d.peak_dhw),
                                backgroundColor: chartColors.sesoko + '99',
                                borderColor: chartColors.sesoko,
                                borderWidth: 1
                            },
                            {
                                label: '‰∏áÂ∫ß',
                                data: dhwData.manza.map(d => d.peak_dhw),
                                backgroundColor: chartColors.manza + '99',
                                borderColor: chartColors.manza,
                                borderWidth: 1
                            },
                            {
                                label: 'Â∞èÁ¨†Âéü',
                                data: dhwData.ogasawara.map(d => d.peak_dhw),
                                backgroundColor: chartColors.ogasawara + '99',
                                borderColor: chartColors.ogasawara,
                                borderWidth: 1
                            }
                        ]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: { display: false },
                            tooltip: {
                                callbacks: {
                                    label: (ctx) => `${ctx.dataset.label}: ${ctx.raw.toFixed(2)} ¬∞C-weeks`
                                }
                            }
                        },
                        scales: {
                            x: {
                                grid: { display: false },
                                ticks: { 
                                    maxRotation: 0,
                                    callback: function(val, idx) {
                                        const year = this.getLabelForValue(val);
                                        return (year % 5 === 0) ? year : '';
                                    }
                                }
                            },
                            y: {
                                beginAtZero: true,
                                max: 10,
                                grid: { color: '#e2e8f0' },
                                ticks: {
                                    stepSize: 2
                                }
                            }
                        }
                    }
                });
            }
            
            // Extreme Days Chart (Hot Days ‚â•30¬∞C)
            const extremeCtx = document.getElementById('extremeChart');
            if (extremeCtx) {
                // Load extreme days data
                fetch('data/extreme_days.json')
                    .then(res => res.json())
                    .then(extremeData => {
                        const years = extremeData.hot_days.sesoko.map(d => d.year);
                        new Chart(extremeCtx, {
                            type: 'bar',
                            data: {
                                labels: years,
                                datasets: [
                                    {
                                        label: 'ÁÄ¨Â∫ï',
                                        data: extremeData.hot_days.sesoko.map(d => d.days),
                                        backgroundColor: chartColors.sesoko + '99',
                                        borderColor: chartColors.sesoko,
                                        borderWidth: 1
                                    },
                                    {
                                        label: '‰∏áÂ∫ß',
                                        data: extremeData.hot_days.manza.map(d => d.days),
                                        backgroundColor: chartColors.manza + '99',
                                        borderColor: chartColors.manza,
                                        borderWidth: 1
                                    },
                                    {
                                        label: 'Â∞èÁ¨†Âéü',
                                        data: extremeData.hot_days.ogasawara.map(d => d.days),
                                        backgroundColor: chartColors.ogasawara + '99',
                                        borderColor: chartColors.ogasawara,
                                        borderWidth: 1
                                    }
                                ]
                            },
                            options: {
                                responsive: true,
                                maintainAspectRatio: false,
                                plugins: {
                                    legend: { display: false },
                                    tooltip: {
                                        callbacks: {
                                            label: (ctx) => `${ctx.dataset.label}: ${ctx.raw}Êó•`
                                        }
                                    }
                                },
                                scales: {
                                    x: {
                                        grid: { display: false },
                                        ticks: {
                                            callback: function(val, idx) {
                                                const year = years[idx];
                                                return year % 5 === 0 ? year : '';
                                            }
                                        }
                                    },
                                    y: {
                                        min: 0,
                                        grid: { color: '#e2e8f0' },
                                        ticks: {
                                            callback: (val) => val + 'Êó•'
                                        }
                                    }
                                }
                            }
                        });
                    })
                    .catch(err => console.error('Error loading extreme days data:', err));
            }
            
            
            // Mini extreme chart for six-card
            const extremeMiniCtx = document.getElementById('extremeChartMini');
            if (extremeMiniCtx) {
                fetch('data/extreme_days.json')
                    .then(res => res.json())
                    .then(extremeData => {
                        const years = extremeData.hot_days.sesoko.map(d => d.year).slice(-5);
                        const sesokoData = extremeData.hot_days.sesoko.slice(-5).map(d => d.days);
                        const manzaData = extremeData.hot_days.manza.slice(-5).map(d => d.days);
                        const ogasawaraData = extremeData.hot_days.ogasawara.slice(-5).map(d => d.days);
                        
                        new Chart(extremeMiniCtx, {
                            type: 'bar',
                            data: {
                                labels: years,
                                datasets: [
                                    { data: sesokoData, backgroundColor: '#5b9a94' },
                                    { data: manzaData, backgroundColor: '#c4a35a' },
                                    { data: ogasawaraData, backgroundColor: '#7a8a9a' }
                                ]
                            },
                            options: {
                                responsive: true,
                                maintainAspectRatio: false,
                                plugins: { legend: { display: false } },
                                scales: {
                                    x: { display: true, grid: { display: false }, ticks: { font: { size: 9 } } },
                                    y: { display: false, min: 0 }
                                }
                            }
                        });
                    });
            }
            
            console.log('‚úÖ Charts initialized');
        } catch (error) {
            console.error('Chart initialization error:', error);
        }
    }
    
    // Initialize when DOM is ready
    if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', initCharts);
    } else {
        initCharts();
    }
})();
</script>
</body>
</html>
